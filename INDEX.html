<!DOCTYPE html>

<html lang="en">

<head>
 
   <meta charset="UTF-8">
   
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
   <title>Biaana - Pure Millet Products</title>
 
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

   <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
 
   <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

   <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
 
   <style>
   
     * {
   
         margin: 0;
  
         padding: 0;
 
         box-sizing: border-box;
  
         font-family: 'Segoe UI', 'Arial', sans-serif;
    
       }
        
   

     body {
       
          background-color: #f8f9fa;
  
          color: #333;
      
          line-height: 1.6;
     
          }
    
    
    
          /* Navigation Bar */
  
  
         .navbar {
      
                 background: #2c5530;
 
                 padding: 1rem 2rem;
     
                 display: flex;
       
                 justify-content: space-between;
    
                 align-items: center;
     
                 box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  
                 position: sticky;
    
                 top: 0;
      
                 z-index: 100;
     
              }
        
 

                 .logo {
      
                       color: white;
     
                       font-size: 1.8rem;
        
                       font-weight: bold;
      
                       display: flex;
       
                       align-items: center;
      
                    }
        
     

                      .logo i {
    
                           margin-right: 10px;
     
                           color: #e9c46a;
       
                       }
       
              
        .nav-links {
     
                            display: flex;
     
                            list-style: none;
   
                            gap: 2rem;
      
   
                        }
    
              
        .nav-links a {
      
                              color: white;
     
                              text-decoration: none;
   
                              transition: color 0.3s;
     
                              font-weight: 500;
     
                              cursor: pointer;
      
                              position: relative;
       
                              display: flex;
     
                              align-items: center;
     
                              gap: 0.5rem;
      

                       }
        
      
                      .nav-links a:hover {
     
                               color: #e9c46a;
     
                         }
        
    
     
                  /* Cart Icon with Bubble */
       
                             .cart-icon {
      
                                   position: relative;
   
                           }
        
   
                               .cart-count {
     
                                   position: absolute;
  
                                        top: -8px;
        
                                      right: -8px;
        
                                 background: #e76f51;
       
                                      color: white;
      
                              border-radius: 50%;
         
                                      width: 20px;
         
                                     height: 20px;
     
                                  font-size: 0.8rem;
        
                                    display: flex;
        
                            justify-content: center;
      
                                align-items: center;
      
                                font-weight: bold;
      
                                 box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    
                          }
        
       
                          .user-actions {
    
                                     display: flex;
     
                                         gap: 1rem;
    
                                 align-items: center;
     
                                  }
        
    
                            .user-btn {
     
                                   background: transparent;
   
                                        color: white;
        
                                       border: 1px solid #e9c46a;
      
                                      padding: 0.5rem 1rem;
         
                                border-radius: 5px;
     
                                       cursor: pointer;
    
                                  font-weight: 500;
         
                                   transition: all 0.3s;
     
                                  }
        
                      
        .user-btn:hover {
    
                                      background: #e9c46a;
 
                                           color: #2c5530;
      
                                  }
        
   
                               .user-welcome {
    
                                      color: #e9c46a;
  
                                font-weight: 500;
      
                                     }
      
                     
        /* Admin Button */
      
                                  .admin-btn {
       
                                       background: #e9c46a;
  
                                           color: #2c5530;
       
                                          border: none;
        
                                          padding: 0.5rem 1rem;
       
                                    border-radius: 5px;
          
                                           cursor: pointer;
       
                                      font-weight: bold;
          
                                       transition: all 0.3s;
     
                                         position: relative;
     
                                    }
        
    
                               .admin-btn:hover {
     
                                       background: #f4a261;
      
                                   }
        

                       /* Order Notification Badge */
     
                                 .order-badge {
         
                                         position: absolute;
     
                                              top: -8px;
       
                                             right: -8px;
    
                                        background: #e76f51;
      
                                             color: white;
    
                                     border-radius: 50%;
    
                                             width: 20px;
        
                                            height: 20px;
        
                                          font-size: 0.7rem;
  
                                            display: flex;
     
                                   justify-content: center;
       
                                       align-items: center;
       
                                       font-weight: bold;
     
                                    }
        

                             /* Order Notification Styles */
  
                                    .order-notification {
     
                                             position: fixed;
  
                                                  top: 20px;
      
                                                right: 20px;
       
                                           background: #2c5530;
     
                                                color: white;
    
                                              padding: 15px;
       
                                        border-radius: 10px;
   
                                           box-shadow: 0 5px 15px rgba(0,0,0,0.3);
 
                                              z-index: 10000;
     
                                             max-width: 350px;
         
                                             animation: slideIn 0.3s ease-out;
     
                                           border-left: 4px solid #e9c46a;
 
                                      }

                      
                    .notification-content {
     
                                                   display: flex;
     
                                               align-items: center;
   
                                                      gap: 10px;
     
                                                }
        
 
                                        .notification-icon {
       
                                                font-size: 1.5rem;
    
                                                   }
        

                                         .notification-text {
           
                                                     flex: 1;
     
                                                    }
        
  
                                      .notification-text strong {
        
                                                 display: block;
    
                                            margin-bottom: 5px;
    
                                                   }
        
   
                                      .notification-text p {
      
                                                    margin: 2px 0;
  
                                                 font-size: 0.9rem;
      
                                                   opacity: 0.9;

                                                   }
        
  
                                      .notification-text small {
    
                                                 font-size: 0.8rem;
    
                                                   opacity: 0.7;
     
                                                   }
        
                              
        .notification-close {
      
                                                background: none;
     
                                                    border: none;
      
                                                    color: white;
       
                                                 font-size: 1.2rem;
     
                                                    cursor: pointer;
 
                                                padding: 0;
    
                                                   width: 20px;
 
                                                  height: 20px;
      
                                                 display: flex;
    
                                             align-items: center;
  
                                         justify-content: center;
     
                                               }
        
   
                               .notification-close:hover {
    
                                 background: rgba(255,255,255,0.1);
  
                                border-radius: 50%;
    
                               }
        
 
 
                             @keyframes slideIn {
   
                                     from {
       
                                            transform: translateX(100%);

                                            opacity: 0;
        
                                           }
          
                                            to {
          
                                             transform: translateX(0);
  
                                              opacity: 1;
          
                                              }
    
                                         }
        
     
                              /* Admin Order List Styles */
  
                                     .order-item-new {
       
                                           background: #f1faee !important;
   
                                           border-left: 4px solid #2c5530 !important;
      
                                           animation: pulse 2s infinite;
      
                                        }
        
   
                          .order-status-new {
     
                                    background: #e76f51 !important;
     
                             }
        
  
                              @keyframes pulse {
    
                                           0% { background: #f1faee; }
      
                                          50% { background: #e9f5e9; }
      
                                          100% { background: #f1faee; }
      
                             }

    
                       /* Customer Management Styles */
     
                               .customer-stats {
     
                                  display: grid;
      
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));

                               gap: 1rem;
      
                             margin-bottom: 2rem;
    
                                      }

      
                      .stat-card {
         
                               background: #f1faee;
   
                                   padding: 1.5rem;
    
                            border-radius: 10px;
       
                               text-align: center;
       
                               border-left: 4px solid #2c5530;
     
                    }

       
                       .stat-number {
      
                                   font-size: 2rem;
    
                                font-weight: bold;
       
                                     color: #2c5530;
       
                              margin-bottom: 0.5rem;
    
                       }

       
                      .stat-label {
     
                                  color: #7f8c8d;
      
                              font-size: 0.9rem;
     
                         }

     
                      .customers-header {
      
                                display: flex;
      
                        justify-content: space-between;
      
                           align-items: center;
        
                         margin-bottom: 1.5rem;
        
                        padding-bottom: 1rem;
          
                         border-bottom: 2px solid #f1faee;
    
                           }

       
                    .export-btn {
      
                        background: #2c5530;
        
                            color: white;
      
                           border: none;
        
                                padding: 0.7rem 1.5rem;
       
                           border-radius: 5px;
        
                              cursor: pointer;
       
                               font-weight: bold;
        
                                  display: flex;
         
                              align-items: center;
      
                                     gap: 0.5rem;
      
                                 }

   
            .export-btn:hover {
         
                                 background: #1e3a23;
      
                       }

        
            .customers-table {
        
                              background: white;
     
                           border-radius: 10px;
       
                                overflow: hidden;
         
                         box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  
                       }

    
              .customers-table table {
         
                              width: 100%;
      
                        border-collapse: collapse;
     
                             }

      
                  .customers-table th,
      
                  .customers-table td {
        
                                 padding: 1rem;
       
                              text-align: left;
      
                           border-bottom: 1px solid #f1faee;
      
                       }

       
                  .customers-table th {
       
                             background: #2c5530;
     
                               color: white;
       
                               font-weight: 600;
       
                         }

       
                  .customers-table tr:hover {
     
                                  background: #f8f9fa;
    
                       }

     
                 .customer-info strong {
     
                             display: block;
      
                       margin-bottom: 0.2rem;
      
                              }

      
                 .customer-info small {
        
                               color: #7f8c8d;
      
                           font-size: 0.8rem;
     
                      }

       
                .order-count.has-orders {
        
                            background: #2c5530;
       
                              color: white;
       
                               padding: 0.3rem 0.8rem;
      
                           border-radius: 20px;
          
                               font-size: 0.8rem;
        
                            font-weight: bold;
     
                          }

       
                    .order-count.no-orders {
    
                           background: #95a5a6;
    
                              color: white;
        
                             padding: 0.3rem 0.8rem;
     
                                 border-radius: 20px;
       
                                   font-size: 0.8rem;
       
                                    font-weight: bold;
    
                              }

      
                     .total-spent.has-spent {
   
                                 color: #2c5530;
        
                                        font-weight: bold;
      
                                   }

      
                    .total-spent.no-spent {
       
                                  color: #95a5a6;
    
                                         }

     
                .customer-detail-section {
        
                                 background: #f8f9fa;
    
                               padding: 1.5rem;
      
                               border-radius: 8px;
      
                             margin-bottom: 1.5rem;
       
                         }

   
                   .customer-detail-section h4 {
     
                              color: #2c5530;
       
                     margin-bottom: 1rem;
       
                      border-bottom: 2px solid #e9c46a;
      
                          padding-bottom: 0.5rem;
      
                        }

    
                   .order-detail {
     
                             background: white;
     
                              padding: 1rem;
       
                             border-radius: 5px;
      
                          margin-bottom: 0.5rem;
      
                           border-left: 4px solid #e9c46a;
    
                     }

     
                 .order-items {
        
                         margin-top: 0.5rem;
   
                        padding-left: 1rem;
       
                        border-left: 2px solid #f1faee;
    
                       }

     
               .order-items div {
    
                     padding: 0.2rem 0;
     
                      color: #7f8c8d;
     
                    font-size: 0.9rem;
      
                        }
        
     
               /* Hero Section */
      
                             .hero {
      
                            background: linear-gradient(rgba(44, 85, 48, 0.7), rgba(44, 85, 48, 0.7)), url('https://i.imgur.com/2d910e10f9e5456a.png');
      
                       background-size: cover;
   
                     background-position: center;
      
                                color: white;
      
                            padding: 5rem 2rem;
        
                         text-align: center;
         
                      margin-bottom: 2rem;
   
                     }
        
     
                     .hero h1 {
       
                          font-size: 3.5rem;
        
                        margin-bottom: 1rem;
        
                           text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
     
                            }
        
     
                    .hero p {
        
                           font-size: 1.2rem;
      
                       margin-bottom: 2rem;
       
                           max-width: 600px;
     
                        margin-left: auto;
    
                        margin-right: auto;
     
                         }
        
   
                 .shop-now-btn {
      
                           background: #e9c46a;
    
                            color: #2c5530;
      
                            border: none;
       
                           padding: 0.8rem 2rem;
      
                      border-radius: 30px;
       
                             cursor: pointer;
       
                         transition: all 0.3s;
        
                          font-size: 1.1rem;
     
                         font-weight: bold;
      
                          box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      
                          }
        
     
                 .shop-now-btn:hover {
     
                          background: #f4a261;
     
                           transform: translateY(-3px);
      
                          box-shadow: 0 6px 15px rgba(0,0,0,0.3);
    
                      }
        
     
               /* Categories Section */
     
                         .categories {
        
                             padding: 2rem;
       
                           max-width: 1200px;
      
                               margin: 0 auto 3rem;
      
                             }
        
      
                        .section-title {
       
                              text-align: center;
      
                           margin-bottom: 2rem;
         
                               font-size: 2rem;
         
                                   color: #2c5530;
      
                                position: relative;
      
                                 }
        
  
                      .section-title:after {
       
                                content: '';
        
                               display: block;
       
                                 width: 80px;
      
                                height: 4px;
       
                           background: #e9c46a;
       
                                margin: 10px auto;
       
                          border-radius: 2px;
       
                                   }
        
      
                     .categories-grid {
        
                             display: grid;
        
               grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
       
                                 gap: 1.5rem;
     
                              }
        
     
                       .category-card {
       
                                  background: white;
      
                                border-radius: 10px;
      
                                     overflow: hidden;
      
                                   box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      
                                    transition: transform 0.3s;
          
                                    text-align: center;
        
                                       padding: 1.5rem 1rem;
        
                                        cursor: pointer;
     
                                       }
        
    
                         .category-card:hover {
        
                                    transform: translateY(-10px);
    
                                   }
        
     
                      .category-card.active {
   
                                     background: #2c5530;
    
                                          color: white;
     
                                  }
        
     
                     .category-card.active .category-icon {
     
                                           color: #e9c46a;
     
                                                    }
        
    
                      .category-icon {
       
                                  font-size: 2.5rem;
     
                                      color: #2c5530;
     
                               margin-bottom: 1rem;
      
                             }
        
   
              /* Product Grid */
      
                       .products-section {
     
                                padding: 2rem;
       
                              max-width: 1200px;
      
                                  margin: 0 auto;
      
                                }
        
    
                       .products-grid {
      
                                 display: grid;
   
                   grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
 
                                     gap: 2rem;
      
                                    }
        
      
                       .product-card {
     
                                 background: white;
     
                            border-radius: 10px;
         
                          overflow: hidden;
          
                          box-shadow: 0 5px 15px rgba(0,0,0,0.1);
 
                            transition: transform 0.3s;
        
                              position: relative;
      
                                 }
        
  
                         .product-card:hover {
       
                                   transform: translateY(-10px);
 
                                  box-shadow: 0 15px 30px rgba(0,0,0,0.15);
       
                                 }
        
    
                           .product-image {
         
                                    width: 100%;
        
                                   height: 200px;
      
                                object-fit: cover;
       
                             border-bottom: 1px solid #eee;
      
                             }
        
   
                           .product-info {
         
                                    padding: 1.5rem;
     
                               }
        
      
                         .product-title {
         
                              font-size: 1.2rem;
       
                           margin-bottom: 0.5rem;
     
                                   color: #2c5530;
      
                                   }
        
     
                         .product-description {
       
                               color: #7f8c8d;
       
                             font-size: 0.9rem;
         
                           margin-bottom: 1rem;
         
                            line-height: 1.4;
       
                              }
        
    
                         .product-weight {
     
                              color: #95a5a6;
      
                             font-size: 0.9rem;
      
                        }
        
   
                       .product-price {
     
                           color: #e76f51;
      
                       font-weight: bold;
      
                       font-size: 1.3rem;
      
                           margin: 0.5rem 0;
      
                         }
        
     
                     .quantity-selector {
      
                      display: flex;
         
                    align-items: center;
      
                        margin: 1rem 0;
     
                       }
        
  
                   .quantity-label {
          
                    margin-right: 10px;
        
                     font-weight: 500;
       
                        color: #2c5530;
      
                           }
        
   
                   .quantity-input {
     
                           width: 60px;
      
                          padding: 5px;
       
                          border: 1px solid #ddd;
    
                       border-radius: 4px;
         
                    text-align: center;
      
                     }
        
      
                  .add-to-cart {
         
                        background: #2c5530;
        
                             color: white;
        
                             border: none;
        
                            padding: 0.7rem 1.5rem;
      
                      border-radius: 5px;
        
                            cursor: pointer;
         
                       transition: background 0.3s;
      
                            width: 100%;
      
                        font-weight: bold;
       
                         font-size: 1rem;
     
                          }
        
   
                 .add-to-cart:hover {
      
                       background: #1e3a23;
       
                         }
        
      
                .discount-badge {
        
                     position: absolute;
      
                        top: 10px;
         
                        right: 10px;
      
                   background: #e76f51;
         
                       color: white;
        
                     padding: 5px 10px;
        
                 border-radius: 20px;
        
                    font-size: 0.8rem;
        
                  font-weight: bold;
     
                             }
        
    
          /* Edit Button for Admin */
     
                      .edit-product-btn {
    
                          position: absolute;
          
                               top: 10px;
           
                               left: 10px;
         
                         background: rgba(44, 85, 48, 0.8);
     
                              color: white;
         
                             border: none;
        
                            padding: 5px 10px;
        
                       border-radius: 20px;
         
                              cursor: pointer;
      
                           font-size: 0.8rem;
         
                             display: none;
      
                              }
        
      
                  .product-card:hover .edit-product-btn {
      
                         display: block;
    
                                }
        
     
                      /* Benefits Section */
     
                               .benefits {
        
                                 background: #f1faee;
     
                                  padding: 4rem 2rem;
       
                                    margin: 3rem 0;
      
                                     }
        
       
                          .benefits-grid {
        
                                  display: grid;
         
                   grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));

                                     gap: 2rem;
          
                               max-width: 1200px;
      
                                 margin: 0 auto;
       
                                    }
        
     
                         .benefit-card {
        
                                  text-align: center;
    
                                     padding: 2rem 1rem;
     
                                     }
        
  
                      .benefit-icon {
    
                                font-size: 3rem;
      
                                    color: #2c5530;
         
                           margin-bottom: 1rem;
      
                         }
        
   
             /* Cart Section */
     
                    .cart-section {
     
                           display: none;
  
                           padding: 2rem;
       
                          max-width: 1000px;
         
                             margin: 0 auto;
      
                              }
        
 
                      .cart-items {
         
                                 background: white;
      
                              border-radius: 10px;
         
                                    padding: 1.5rem;
          
                                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  
                               margin-bottom: 2rem;
     
                          }
        
     
                        .cart-item {
         
                                display: flex;
        
                       justify-content: space-between;
        
                            align-items: center;
        
                                padding: 1rem 0;
        
                          border-bottom: 1px solid #eee;
     
                                  }
        
    
                      .cart-item:last-child {
          
                             border-bottom: none;
   
                               }
        
      
                         .cart-item-info {
      
                                   display: flex;
      
                                align-items: center;
       
                                        gap: 1rem;
      
                                    }
        
   
                           .cart-item-image {
        
                                   width: 80px;
         
                                 height: 80px;
          
                              object-fit: cover;
       
                            border-radius: 5px;
    
                                  }
        
     
                             .cart-item-details h4 {
       
                                     margin-bottom: 0.5rem;
      
                                             color: #2c5530;
     
                                            }
        
     
                           .cart-item-price {
          
                                        color: #e76f51;
         
                                   font-weight: bold;
      
                                            }
        
     
                        .quantity-btn {
        
                                       background: #f8f9fa;
      
                                           border: 1px solid #ddd;
        
                                         padding: 5px 10px;
         
                                          cursor: pointer;
         
                                border-radius: 3px;
         
                                        margin: 0 5px;
     
                                     }
        
   
                       .quantity-btn:hover {
        
                                          background: #e9ecef;
   
                                     }
        
       
                          .remove-btn {
         
                                 background: #e76f51;
     
                                     color: white;
     
                                    border: none;
         
                                 padding: 5px 10px;
        
                            border-radius: 3px;
         
                                cursor: pointer;
        
                            margin-left: 10px;
         
                                font-size: 0.8rem;
      
                                    }
        
      
                        .remove-btn:hover {
     
                                 background: #d35400;
      
                             }
        
     
                          .cart-summary {
       
                                 background: white;
       
                              border-radius: 10px;
       
                                    padding: 1.5rem;
          
                                 box-shadow: 0 5px 15px rgba(0,0,0,0.1);
   
                               }
        
   
                            .summary-row {
        
                                 display: flex;
          
                         justify-content: space-between;
       
                          margin-bottom: 1rem;
      
                                }
        
     
                               .summary-total {
       
                                  font-weight: bold;
       
                                    font-size: 1.2rem;
        
                                   border-top: 1px solid #eee;
     
                                  padding-top: 1rem;
          
                            margin-top: 1rem;
       
                     }
        
     
                       .checkout-btn {
   
                              background: #2c5530;
     
                                  color: white;
         
                                 border: none;
         
                                padding: 1rem 2rem;
        
                         border-radius: 5px;
          
                                cursor: pointer;
      
                                font-size: 1.1rem;
         
                              font-weight: bold;
       
                                    width: 100%;
       
                               margin-top: 1rem;
      
                                  }
        
   
                        .checkout-btn:hover {
      
                             background: #1e3a23;
     
                            }
        
     
            /* Payment Options Section */
     
                         .payment-section {
      
                               display: none;
       
                               padding: 2rem;
        
                             max-width: 800px;
      
                                margin: 0 auto;
       
                          }
        
   
                     .payment-options {
     
                           display: grid;
     
              grid-template-columns: 1fr;
        
                              gap: 2rem;
         
                     margin-top: 2rem;
       
                       }
        
    
                       .payment-option {
       
                               background: white;
     
                            border-radius: 10px;
       
                                  padding: 2rem;
       
                               box-shadow: 0 5px 15px rgba(0,0,0,0.1);
   
                               text-align: center;
      
                            }
        
     
                     .payment-option h3 {
      
                            margin-bottom: 1rem;
      
                                  color: #2c5530;
      
                                 }
       
            
        .payment-option p {
        
                            margin-bottom: 1.5rem;
      
                                     color: #7f8c8d;
      
                          }
        
  
                     .qr-code-container {
       
                           margin: 1.5rem 0;
         
                         padding: 1rem;
      
                        background: #f8f9fa;
       
                     border-radius: 8px;
         
                       display: inline-block;
      
                              }
        
       
                  .qr-code {
        
                        width: 200px;
      
                       height: 200px;
        
                       margin: 0 auto;
        
                      display: block;
       
                   }
        
     
                .payment-instructions {
       
                           background: #f1faee;
      
                              padding: 1rem;
        
                        border-radius: 5px;
         
                           margin-top: 1rem;
        
                        text-align: left;
      
                     }
        
     
                  .payment-instructions h4 {
       
                        margin-bottom: 0.5rem;
       
                                 color: #2c5530;
      
                           }
        
      
                .payment-instructions ol {
        
                           padding-left: 1.5rem;
      
                                  }
        
      
                 .payment-instructions li {
      
                         margin-bottom: 0.5rem;
       
                       }
        
    
                 .upi-id {
       
                          background: #e9c46a;
     
                              color: #2c5530;
         
                            padding: 0.5rem 1rem;
       
                      border-radius: 5px;
         
                        font-weight: bold;
        
                             margin: 1rem 0;
        
                          display: inline-block;
      
                                 }
        
  
          /* Customer Profile Section */
     
                         .profile-section {
       
                                display: none;
      
                                padding: 2rem;
        
                              max-width: 800px;
         
                                 margin: 0 auto;
      
                                  }
        
     
                         .profile-card {
        
                                     background: white;
 
                                 border-radius: 10px;
        
                                        padding: 2rem;
         
                                      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
 
                                    }
        
  
                       .profile-header {
          
                                     display: flex;
     
                            justify-content: space-between;
   
                                align-items: center;
         
                              margin-bottom: 2rem;
         
                              border-bottom: 2px solid #f1faee;
      
                             padding-bottom: 1rem;
      
                               }
        
    
                       .profile-info {
        
                               display: grid;
        
                  grid-template-columns: 1fr 1fr;
        
                                    gap: 1.5rem;
       
                          margin-bottom: 2rem;
        
                            }
        
      
                     .profile-actions {
         
                                display: flex;
         
                                    gap: 1rem;
         
                        justify-content: flex-end;
       
                            }
        
   
     /* Order History Section */
      
                           .orders-section {
      
                                  display: none;
  
                                  padding: 2rem;
       
                                max-width: 1000px;
    
                                  margin: 0 auto;
      
                               }
        
     
                            .order-card {
      
                                      background: white;
     
                                     border-radius: 10px;
      
                                     padding: 1.5rem;
     
                                  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
   
                                margin-bottom: 1.5rem;
     
                                 }
        
   
                            .order-header {
          
                                   display: flex;
         
                          justify-content: space-between;
       
                              align-items: center;
       
                            margin-bottom: 1rem;
       
                           padding-bottom: 1rem;
         
                           border-bottom: 1px solid #eee;
       
                            }
        
    
                         .order-items {
       
                              margin-bottom: 1rem;
      
                                   }
        
    
                      .order-item {
        
                             display: flex;
     
                    justify-content: space-between;
    
                           padding: 0.5rem 0;
          
                  border-bottom: 1px solid #f8f9fa;
      
                                     }
        
    
                  .order-status {
       
                          background: #2c5530;
     
                               color: white;
        
                             padding: 0.3rem 0.8rem;
     
                       border-radius: 20px;
          
                           font-size: 0.8rem;
         
                         font-weight: bold;
      
                       }
        
     
                   .order-total {
        
                            font-weight: bold;
   
                                  color: #e76f51;
        
                              font-size: 1.1rem;
      
                             }
        
    
                       .order-actions {
      
                                display: flex;
       
                                    gap: 0.5rem;
      
                             margin-top: 0.5rem;
      
                             }
        
   
     /* Order Confirmation Section */
    
                  .order-confirmation {
        
                               display: none;
       
                               padding: 2rem;
         
                             max-width: 800px;
        
                                 margin: 0 auto;
      
                              text-align: center;
    
                               }
        
  
                  .confirmation-card {
        
                                background: white;
      
                             border-radius: 10px;
         
                                 padding: 2rem;
          
                              box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  
                           margin-bottom: 2rem;
       
                          }
        
    
                  .confirmation-icon {
      
                            font-size: 4rem;
       
                                color: #2c5530;
       
                        margin-bottom: 1rem;
       
                           }
        
      
                  .order-details {
          
                           text-align: left;
       
                               margin: 2rem 0;
    
                              padding: 1.5rem;
        
                            background: #f8f9fa;
       
                          border-radius: 8px;
       
                                       }
        
   
                     .order-actions {
       
                                 display: flex;
     
                                     gap: 1rem;
        
                         justify-content: center;
         
                              margin-top: 2rem;
       
                                    }
        
       
                      .action-btn {
        
                             padding: 0.8rem 1.5rem;
  
                              border: none;
          
                       border-radius: 5px;
          
                              cursor: pointer;
        
                          font-weight: bold;
        
                            transition: all 0.3s;
     
                            }
        
    
                .continue-shopping {
         
                          background: #e9c46a;
      
                               color: #2c5530;
      
                             }
        
     
               .download-invoice {
           
                            background: #2c5530;
       
                                color: white;
      
                                }
        
     
             .download-invoice:hover {
       
                             background: #1e3a23;
    
                                 }
        
      
                .continue-shopping:hover {
        
                             background: #f4a261;
    
                        }
        
       
        /* Delivery Success Section */
     
                      .delivery-success {
           
                                    display: none;
       
                                    padding: 2rem;
         
                                  max-width: 800px;
        
                                     margin: 0 auto;
          
                                  text-align: center;
       
                               }
        
     
                       .delivery-card {
        
                                      background: white;
 
                                     border-radius: 10px;
      
                                         padding: 2rem;
       
                                     box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  
                                  margin-bottom: 2rem;
      
                                    }
        
 
                     .delivery-icon {
      
                                font-size: 4rem;
     
                                   color: #2c5530;
        
                           margin-bottom: 1rem;
   
                             }
        
  
                   .delivery-details {
      
                          text-align: left;
     
                             margin: 2rem 0;
      
                            padding: 1.5rem;
      
                         background: #f8f9fa;
        
                      border-radius: 8px;
      
                         }
        
    
                  .delivery-tracking {
      
                        background: #f1faee;
      
                         padding: 1.5rem;
        
                    border-radius: 8px;
       
                           margin: 2rem 0;
      
                        text-align: left;
      
                           }
        
   
                 .tracking-steps {
       
                          display: flex;
       
                 justify-content: space-between;
     
                      margin-top: 1.5rem;
        
                        position: relative;
     
                           }
        
  
                    .tracking-steps::before {
       
                            content: '';
        
                          position: absolute;
      
                               top: 20px;
        
                              left: 0;
       
                            right: 0;
        
                           height: 3px;
        
                       background: #e9c46a;
       
                           z-index: 1;
      
                              }
        
     
                .tracking-step {
       
                       text-align: center;
       
                         position: relative;
        
                          z-index: 2;
           
                             flex: 1;
     
                             }
        
    
                 .step-icon {
          
                         width: 40px;
    
                       height: 40px;
       
                    background: #2c5530;
      
                         color: white;
         
                 border-radius: 50%;
        
                       display: flex;
         
                  align-items: center;
         
              justify-content: center;
       
                       margin: 0 auto 0.5rem;
      
                    font-size: 1.2rem;
      
                     }
        

         .step-icon.active {
    
                     background: #e9c46a;
    
                          color: #2c5530;
      
                         }
        
  
          .step-label {
         
                   font-size: 0.9rem;
     
                       color: #7f8c8d;
     
                  }
        
      
        .step-label.active {
          
                color: #2c5530;
        
           font-weight: bold;
      
                   }
        
    
    /* Admin Panel Styles */
       
               .admin-panel {
        
                     display: none;
     
                      padding: 2rem;
      
                 max-width: 1200px;
        
                    margin: 0 auto;
       
                     }
        
    
         .admin-header {
         
                      display: flex;
          
              justify-content: space-between;
        
                align-items: center;
       
              margin-bottom: 2rem;
      
                 }
        
  
        .logout-btn {
        
                background: #e76f51;
    
                     color: white;
       
                    border: none;
        
                   padding: 0.5rem 1rem;
       
              border-radius: 5px;
         
                    cursor: pointer;
       
               font-weight: bold;
      
                   }
        
    
         .admin-controls {
        
                    display: flex;
      
                        gap: 1rem;
       
              margin-bottom: 2rem;
         
                  flex-wrap: wrap;
      
                        }
        
   
           .control-btn {
         
                   background: #2c5530;
       
                        color: white;
        
                      border: none;
        
                      padding: 0.7rem 1.5rem;
     
                border-radius: 5px;
         
                       cursor: pointer;
         
                 font-weight: bold;
     
                         }
        
     
         .control-btn:hover {
      
                      background: #1e3a23;
    
                   }
        
    
          .admin-content {
        
                 background: white;
     
              border-radius: 10px;
        
                   padding: 2rem;
         
              box-shadow: 0 5px 15px rgba(0,0,0,0.1);
     
            margin-bottom: 2rem;
     
                    }
        
   
            .analytics-grid {
         
                  display: grid;
       
     grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      
                       gap: 1.5rem;
         
             margin-bottom: 2rem;
       
                          }
        
   
              .analytics-card {
         
                      background: #f1faee;
     
                   border-radius: 10px;
         
                         padding: 1.5rem;
         
                      text-align: center;
      
                     }
        
    
                .analytics-number {
      
                     font-size: 2.5rem;
        
                   font-weight: bold;
        
                      color: #2c5530;
         
               margin-bottom: 0.5rem;
      
                   }
        
     
                  .analytics-label {
     
                      color: #7f8c8d;
       
                 font-size: 1rem;
     
                      }
        
   
     /* Monthly Analytics Styles */
      
                 .analytics-controls {
        
                       display: flex;
    
                           gap: 1rem;
       
                 margin-bottom: 2rem;
       
                   align-items: center;
        
                     flex-wrap: wrap;
      
                  }
        
   
              .month-selector {
      
                       display: flex;
      
                           gap: 0.5rem;
       
                   align-items: center;
      
                   }
        
 
                .month-btn {
     
                         background: #e9c46a;
         
                              color: #2c5530;
        
                           border: none;
         
                           padding: 0.5rem 1rem;
        
                     border-radius: 5px;
       
                           cursor: pointer;
         
                       font-weight: bold;
      
                      }
        
   
                 .month-btn.active {
        
                         background: #2c5530;
       
                              color: white;
     
                              }
        
    
                  .month-btn:hover {
       
                        background: #f4a261;
   
                            }
        
    
                  .month-btn.active:hover {
     
                        background: #1e3a23;
     
                         }
        
      
              /* Footer */
      
                       footer {
         
                          background: #2c5530;
       
                               color: white;
       
                             padding: 3rem 2rem;
      
                          margin-top: 4rem;
      
                        }
        
      
                      .footer-content {
        
                            max-width: 1200px;
        
                               margin: 0 auto;
         
                              display: grid;
        
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
 
                                 gap: 2rem;
      
                              }
        
     
                  .footer-column h3 {
       
                        margin-bottom: 1.5rem;
      
                            font-size: 1.3rem;
        
                                color: #e9c46a;
      
                         }
        
    
                  .footer-links {
        
                        list-style: none;
    
                                 }
        
    
                .footer-links li {
        
                    margin-bottom: 0.8rem;
   
                       }
        
      
                .footer-links a {
        
                     color: #ecf0f1;
        
           text-decoration: none;
         
                transition: color 0.3s;
      
                   cursor: pointer;
     
                    }
        
  
               .footer-links a:hover {
         
                            color: #e9c46a;
       
                        }
        
   
                 .social-icons {
        
                       display: flex;
        
                           gap: 1rem;
         
                   margin-top: 1rem;
      
                        }
        
     
               .social-icons a {
        
                         color: white;
      
                     font-size: 1.5rem;
       
                    transition: color 0.3s;
      
                      cursor: pointer;
      
                        }
        
  
           .social-icons a:hover {
    
                      color: #e9c46a;
     
                         }
        
   
             .copyright {
         
                        text-align: center;
     
                       margin-top: 3rem;
         
                      padding-top: 1.5rem;
          
                       border-top: 1px solid #3a6b3f;
     
                            color: #bdc3c7;
      
                         }
        
    
     /* Modal Styles */
     
                      .modal {
     
                         display: none;
   
                        position: fixed;
      
                            top: 0;
          
                           left: 0;
          
                          width: 100%;
        
                       height: 100%;
       
                    background: rgba(0,0,0,0.5);
      
                       z-index: 1000;
       
                justify-content: center;
       
                    align-items: center;
       
                       }
        
     
            .modal-content {
         
                    background: white;
     
                       padding: 2rem;
      
                border-radius: 10px;
        
                        width: 400px;
         
                     max-width: 90%;
        
                  box-shadow: 0 5px 20px rgba(0,0,0,0.2);
  
                      }
        
    
           .modal-header {
         
                     display: flex;
        
             justify-content: space-between;
    
                     align-items: center;
         
                   margin-bottom: 1.5rem;
      
                           }
        
    
              .modal-title {
          
                   font-size: 1.5rem;
    
                       color: #2c5530;
    
                     }
        
      
             .close-modal {
        
                     background: none;
      
                         border: none;
       
                       font-size: 1.5rem;
          
                         cursor: pointer;
          
                          color: #7f8c8d;
      
                          }
        
      
              .form-group {
          
                       margin-bottom: 1rem;
   
                          }
        
      
               .form-label {
         
                       display: block;
    
                  margin-bottom: 0.5rem;
     
                    font-weight: 500;
         
                         color: #2c5530;
      
                           }
        
    
                 .form-input {
          
                        width: 100%;
        
                      padding: 0.7rem;
        
                      border: 1px solid #ddd;
       
                border-radius: 5px;
          
                   font-size: 1rem;
       
                            }
        
       
                .form-select {
         
                      width: 100%;
        
                   padding: 0.7rem;
      
                    border: 1px solid #ddd;
   
              border-radius: 5px;
        
                   font-size: 1rem;
        
                   background: white;
      
                         }
        
      
             .login-btn, .register-btn, .save-btn {
        
                         background: #2c5530;
       
                        color: white;
          
                       border: none;
      
                      padding: 0.8rem 1.5rem;
       
                border-radius: 5px;
           
                       cursor: pointer;
       
                        width: 100%;
          
                    font-size: 1rem;
       
                  font-weight: bold;
          
                   margin-top: 1rem;
       
                       }
        
       
            .login-btn:hover, .register-btn:hover, .save-btn:hover {
   
                           background: #1e3a23;
      
                            }
        
      
             .form-footer {
          
                        text-align: center;
   
                        margin-top: 1rem;
       
                        }
        
     
             .form-footer a {
          
                       color: #2c5530;
       
               text-decoration: none;
         
                   font-weight: 500;
      
                        cursor: pointer;
       
                          }
        
       
             .form-footer a:hover {
        
                    text-decoration: underline;
    
                        }
        
  
               .forgot-password {
      
                       text-align: right;
      
                       margin-top: 0.5rem;
     
                           }
        
      
            .forgot-password a {
          
                        color: #2c5530;
      
              text-decoration: none;
          
                     font-size: 0.9rem;
         
                       cursor: pointer;
      
                         }
        
     
             .forgot-password a:hover {
      
                        text-decoration: underline;
      
                                  }
        
     
         /* Edit Product Modal */
    
                            .edit-modal {
        
                               display: none;
       
                              position: fixed;
       
                                  top: 0;
           
                                   left: 0;
         
                                  width: 100%;
         
                                 height: 100%;
        
                            background: rgba(0,0,0,0.5);
     
                              z-index: 1000;
          
                     justify-content: center;
         
                           align-items: center;
           
                            overflow-y: auto;
        
                           padding: 2rem 0;
       
                                }
        
   
               .edit-modal-content {
       
                              background: white;
     
                              padding: 2rem;
         
                      border-radius: 10px;
    
                            width: 500px;
         
                         max-width: 90%;
           
                           max-height: 90vh;
          
                          overflow-y: auto;
          
                           box-shadow: 0 5px 20px rgba(0,0,0,0.2);
   
                                }
        
      
                 .form-actions {
        
                         display: flex;
         
                              gap: 1rem;
         
                       margin-top: 1.5rem;
      
                              }
        
      
                    .cancel-btn {
           
                         background: #95a5a6;
       
                             color: white;
        
                            border: none;
        
                           padding: 0.7rem 1.5rem;
      
                      border-radius: 5px;
         
                            cursor: pointer;
     
                       font-weight: bold;
          
                              flex: 1;
       
                               }
        
      
    /* Photo Upload Styles */
    
                .image-preview-container {
    
                        margin-top: 10px;
         
                       text-align: center;
      
                                     }
        
       
                 .preview-image {
        
                             max-width: 200px;
        
                            max-height: 200px;
    
                           border-radius: 5px;
       
                                 border: 2px solid #2c5530;
 
                            margin-top: 10px;
      
                           }
        
    
               .upload-instruction {
       
                      background: #f1faee;
       
                         padding: 10px;
         
                  border-radius: 5px;
          
                         margin: 10px 0;
        
                        font-size: 0.9rem;
         
                            color: #2c5530;
      
                     border-left: 4px solid #e9c46a;
      
                          }
        
       
    /* Responsive Design */
     
        @media (max-width: 768px) {
     
              .navbar {
           
                  flex-direction: column;
     
                        padding: 1rem;
        
                        }
            
        
                 .nav-links {
            
                       margin-top: 1rem;
         
                             gap: 1rem;
          
                           }
            
       
                 .user-actions {
             
                      margin-top: 1rem;
          
                         }
            
       
                .hero h1 {
            
                    font-size: 2.5rem;
          
                     }
            
      
               .hero p {
             
                   font-size: 1rem;
    
                    }
            
       
             .admin-controls {
            
                  flex-direction: column;
      
                    }
            
      
              .order-actions {
            
                    flex-direction: column;
        
                         }
            
         
               .cart-item {
           
                     flex-direction: column;
           
                      align-items: flex-start;
             
                              gap: 1rem;
          
                          }
            
       
               .payment-options {
             
                    grid-template-columns: 1fr;
          
                        }
            
         
               .profile-info {
           
                     grid-template-columns: 1fr;
        
                       }
            
        
               .profile-actions {
            
                    flex-direction: column;
     
                     }
            
         
              .order-notification {
             
                           right: 10px;
            
                           left: 10px;
             
                      max-width: none;
         
                         }

        
              .customers-table {
          
                    overflow-x: auto;
         
                          }

         
               .customers-table table {
       
                          min-width: 800px;
      
                                 }
            
       
              .analytics-controls {
          
                     flex-direction: column;
      
                        align-items: flex-start;
          
                          }
            
          
                .tracking-steps {
            
                        flex-direction: column;
      
                                   gap: 1rem;
           
                                  }
            
          
                .tracking-steps::before {
           
                          display: none;
        
                        }
     
                    }
   
    </style>

</head>

<body>
  
     <!-- Navigation Bar -->
  
       <nav class="navbar">
     
           <div class="logo">
      
                <i class="fas fa-seedling"></i>
         
                        BIAANA
      
           </div>
      
         <ul class="nav-links">
    
                  <li><a class="nav-home"><i class="fas fa-home"></i> Home</a></li>
  
                  <li><a class="nav-products"><i class="fas fa-box-open"></i> Products</a></li>
  
                  <li><a class="nav-cart cart-icon">
         
                      <i class="fas fa-shopping-cart"></i> Cart 
              
                  <span class="cart-count">0</span>
          
                    </a></li>
      
                  <li><a class="nav-orders"><i class="fas fa-history"></i> Orders</a></li>
     
                      </ul>
       
         <div class="user-actions">
       
                    <span class="user-welcome" id="userWelcome">Welcome, Guest!</span>
  
                     <button class="user-btn" id="loginBtn">Login</button>
    
                     <button class="user-btn" id="registerBtn">Register</button>

                    <button class="user-btn" id="profileBtn" style="display: none;">My Profile</button>
  
                    <button class="user-btn" id="logoutBtn" style="display: none;">Logout</button>
  
                    <button class="admin-btn" id="adminLoginBtn">
       
                            <i class="fas fa-user-cog"></i> Admin
         
                   </button>
     
          </div>
  
    </nav>

   
  <!-- Hero Section -->
   
             <section class="hero">
    
                  <h1>Biaana - Pure Millet Products</h1>
  
                   <p>Natural and nutrition-rich millet products, straight from farm to your home</p>
    
                   <button class="shop-now-btn" id="shopNowBtn">Shop Now</button>
   
           </section>

   
  <!-- Categories Section -->
  
              <section class="categories">
     
                    <h2 class="section-title">Categories</h2>
    
                    <div class="categories-grid">
          
                       <div class="category-card active" data-category="all">
   
                           <div class="category-icon">
              
                              <i class="fas fa-th-large"></i>
          
                       </div>
              
                      <h3>All Products</h3>
         
                       <p>Browse all our products</p>
    
                             </div>
           
                  <div class="category-card" data-category="Millet Grains">
   
                           <div class="category-icon">
             
                                  <i class="fas fa-wheat-alt"></i>
     
                              </div>
           
                              <h3>Millet Grains</h3>
      
                              <p>Various types of pure millets</p>
     
                           </div>
          
                <div class="category-card" data-category="Millet Flour">
     
                       <div class="category-icon">
            
                           <i class="fas fa-bread-slice"></i>
             
                      </div>
             
                     <h3>Millet Flour</h3>
           
                      <p>Freshly ground flour</p>
      
                    </div>
        
               <div class="category-card" data-category="Flakes">
 
                    <div class="category-icon">
         
                            <i class="fas fa-cookie"></i>
             
                      </div>
         
                <h3>Flakes</h3>
         
                 <p>Healthy breakfast flakes</p>
     
             </div>
         
             <div class="category-card" data-category="Cookies">
      
                <div class="category-icon">
           
                   <i class="fas fa-cookie-bite"></i>
        
             </div>
             
                 <h3>Cookies</h3>
          
                  <p>Delicious and healthy cookies</p>
  
               </div>
     
          </div>
   
   </section>

   
 <!-- Products Section -->
   
                 <section class="products-section">
      
                     <h2 class="section-title">Our Products</h2>
      
                    <div class="products-grid" id="productsContainer">
    
        <!-- Products will be loaded here dynamically -->
    
                </div>
   
        </section>

   
 <!-- Cart Section -->
   
               <section class="cart-section" id="cartSection">
     
               <h2 class="section-title">Your Shopping Cart</h2>
      
              <div class="cart-items" id="cartItems">
   
    <!-- Cart items will be loaded here -->
  
              </div>
    
                <div class="cart-summary">
 
                   <div class="summary-row">
         
                      <span>Subtotal:</span>
           
                       <span id="cartSubtotal">₹0</span>
       
              </div>
          
            <div class="summary-row">
       
                     <span>Shipping:</span>
          
                         <span id="cartShipping">₹10</span>
      
                </div>
          
           <div class="summary-row summary-total">
  
               <span>Total:</span>
       
                <span id="cartTotal">₹0</span>
       
             </div>
        
        <button class="checkout-btn" id="checkoutBtn">Proceed to Checkout</button>
  
              </div>
   
    </section>

   
 <!-- Payment Options Section -->
   
       <section class="payment-section" id="paymentSection">
    
                 <h2 class="section-title">Select Payment Method</h2>
      
               <div class="payment-options">
       
                  <div class="payment-option">
            
                  <h3><i class="fas fa-qrcode"></i> UPI QR Code</h3>
         
                   <p>Scan QR code with any UPI app</p>
         
                   <div class="qr-code-container">
         
                    <div id="qrCode" class="qr-code"></div>
           
             </div>
            
            <div class="upi-id">UPI ID: uniquehero9211@okhdfcbank</div>
 
               <div class="payment-instructions">
        
               <h4>How to Pay:</h4>
            
                <ol>
            
            <li>Open your UPI app (Google Pay, PhonePe, Paytm, etc.)</li>
   
                     <li>Tap on 'Scan QR Code'</li>
           
                     <li>Scan the QR code above</li>
      
                  <li>Enter the exact amount: <strong id="qrAmount">₹0</strong></li>

                        <li>Complete the payment</li>
               
                    <li>Take a screenshot of payment confirmation</li>
     
                </ol>
        
             </div>
           
         <button class="checkout-btn" id="verifyPaymentBtn">I've Made the Payment</button>
  
                    </div>
      
                </div>
   
           </section>

   
 <!-- Customer Profile Section -->
  
           <section class="profile-section" id="profileSection">
  
              <h2 class="section-title">My Profile</h2>
   
             <div class="profile-card">
       
             <div class="profile-header">
        
              <h3>Personal Information</h3>
           
              <button class="user-btn" id="editProfileBtn">Edit Profile</button>
   
           </div>
         
                <div class="profile-info" id="profileInfo">
       
     <!-- Profile information will be loaded here -->
       
               </div>
       
                 <div class="profile-actions">
         
                 <button class="user-btn" id="changePasswordBtn">Change Password</button>
    
            <button class="logout-btn" id="profileLogoutBtn">Logout</button>
    
           </div>
     
        </div>
   
  </section>

  
  <!-- Order History Section -->
   
          <section class="orders-section" id="ordersSection">
     
          <h2 class="section-title">My Orders</h2>
    
           <div id="ordersContainer">
       
     <!-- Orders will be loaded here -->
    
          </div>
  
  </section>

   
 <!-- Order Confirmation Section -->
  
           <section class="order-confirmation" id="orderConfirmation">
     
         <div class="confirmation-card">
   
           <div class="confirmation-icon">
        
              <i class="fas fa-check-circle"></i>
       
       </div>
      
          <h2>Order Confirmed!</h2>
  
          <p>Thank you for your purchase. Your order has been successfully placed.</p>
           
 
            <div class="order-details" id="orderDetails">
            
   <!-- Order details will be loaded here -->
       
     </div>
         
    
            <div class="order-actions">
       
               <button class="action-btn continue-shopping" id="continueShoppingBtn">Continue Shopping</button>
       
             <button class="action-btn download-invoice" id="downloadInvoiceBtn">Download Invoice</button>
          
            <button class="action-btn track-delivery" id="trackDeliveryBtn">Track Delivery</button>
    
        </div>
    
    </div>
  
  </section>

  
  <!-- Delivery Success Section -->
   
               <section class="delivery-success" id="deliverySuccess">
     
                   <div class="delivery-card">
       
                      <div class="delivery-icon">
        
        <i class="fas fa-truck"></i>
        
    </div>
       
           <h2>Delivery Successful!</h2>
        
              <p>Your order has been successfully delivered. Thank you for shopping with Biaana!</p>
            

            <div class="delivery-details" id="deliveryDetails">
      
    <!-- Delivery details will be loaded here -->
   
          </div>
            
      
      <div class="delivery-tracking">
    
            <h3>Delivery Tracking</h3>
     
           <div class="tracking-steps">
           
         <div class="tracking-step">
              
          <div class="step-icon active">
           
                 <i class="fas fa-check"></i>
       
                 </div>
                
        <div class="step-label active">Order Placed</div>
      
              </div>
             
       <div class="tracking-step">
        
                <div class="step-icon active">
             
               <i class="fas fa-check"></i>
          
              </div>
                    
    <div class="step-label active">Processing</div>
        
            </div>
              
      <div class="tracking-step">
        
                <div class="step-icon active">
              
              <i class="fas fa-check"></i>
                 
       </div>
                
        <div class="step-label active">Shipped</div>
      
              </div>
              
      <div class="tracking-step">
        
                <div class="step-icon active">
               
             <i class="fas fa-check"></i>
             
           </div>
                  
      <div class="step-label active">Out for Delivery</div>
       
             </div>
            
        <div class="tracking-step">
         
               <div class="step-icon active">
             
               <i class="fas fa-check"></i>
                 
       </div>
               
         <div class="step-label active">Delivered</div>
          
          </div>
      
          </div>
      
      </div>
            

            <div class="order-actions">
     
           <button class="action-btn continue-shopping" id="continueShoppingAfterDelivery">Continue Shopping</button>
      
          <button class="action-btn download-invoice" id="downloadInvoiceAfterDelivery">Download Invoice</button>
       
         <button class="action-btn rate-order" id="rateOrderBtn">Rate Your Order</button>
       
     </div>
   
     </div>
  
  </section>

  
  <!-- Benefits Section -->
  
  <section class="benefits">
   
     <h2 class="section-title">Benefits of Millets</h2>
    
    <div class="benefits-grid">
    
        <div class="benefit-card">
       
         <div class="benefit-icon">
             
       <i class="fas fa-heart"></i>
       
         </div>
        
        <h3>Good for Heart</h3>
       
         <p>Millets are excellent for heart health</p>
       
     </div>
      
      <div class="benefit-card">
        
        <div class="benefit-icon">
           
         <i class="fas fa-weight"></i>
         
       </div>
        
        <h3>Weight Control</h3>
          
      <p>Helpful in weight management</p>
      
      </div>
      
      <div class="benefit-card">
       
         <div class="benefit-icon">
           
         <i class="fas fa-bone"></i>
           
     </div>
      
          <h3>Strong Bones</h3>
         
       <p>Rich in calcium and minerals</p>
      
      </div>
      
      <div class="benefit-card">
      
          <div class="benefit-icon">
           
         <i class="fas fa-leaf"></i>
          
      </div>
        
        <h3>Natural & Pure</h3>
   
             <p>Chemical-free, natural farming</p>
       
     </div>
    
    </div>
  
  </section>

    
<!-- Footer -->
   
 <footer>
     
   <div class="footer-content">
    
        <div class="footer-column">
         
       <h3>Biaana</h3>
       
         <p>Pure and natural millet products, straight from farm to your home</p>
       
         <div class="social-icons">
          
          <a><i class="fab fa-facebook"></i></a>
      
              <a><i class="fab fa-instagram"></i></a>
      
              <a><i class="fab fa-twitter"></i></a>
          
          <a><i class="fab fa-youtube"></i></a>
           
     </div>
         
   </div>
       
     <div class="footer-column">
      
          <h3>Quick Links</h3>
         
       <ul class="footer-links">
              
      <li><a class="nav-home">Home</a></li>
           
         <li><a class="nav-products">Products</a></li>
          
          <li><a class="nav-cart">Cart</a></li>
          
          <li><a>Offers</a></li>
               
     <li><a>New Products</a></li>
        
        </ul>
     
       </div>
        
    <div class="footer-column">
           
     <h3>Customer Service</h3>
        
        <ul class="footer-links">
       
             <li><a>Contact Us</a></li>
           
         <li><a>FAQs</a></li>
      
              <li><a>Shipping Policy</a></li>
       
             <li><a>rohit world</a></li>
           
         <li><a>Track Your Order</a></li>
            
    </ul>
      
      </div>
       
     <div class="footer-column">
      
          <h3>Contact Info</h3>
       
         <ul class="footer-links">
         
           <li><i class="fas fa-map-marker-alt"></i> 483/D,Ashok Nagar, Ranchi</li>
          
          <li><i class="fas fa-phone"></i> +91 8010644719</li>
          
          <li><i class="fas fa-envelope"></i> biaana.inc</li>
           
     </ul>
       
     </div>
    
    </div>
   
     <div class="copyright">
        
    <p>&copy; 2023 Biaana. All rights reserved.</p>
    
    </div>
 
   </footer>

   
 <!-- Login Modal -->
  
  <div class="modal" id="loginModal">
     
   <div class="modal-content">
       
     <div class="modal-header">
         
       <h2 class="modal-title">Customer Login</h2>
      
          <button class="close-modal">&times;</button>
     
       </div>
     
       <form id="loginForm">
        
        <div class="form-group">
           
         <label class="form-label">Email</label>
            
        <input type="email" class="form-input" id="loginEmail" required>
        
        </div>
           
     <div class="form-group">
        
            <label class="form-label">Password</label>
        
            <input type="password" class="form-input" id="loginPassword" required>
          
      </div>
       
         <div class="forgot-password">
             
       <a id="forgotPasswordLink">Forgot Password?</a>
     
           </div>
          
      <button type="submit" class="login-btn">Login</button>
         
       <div class="form-footer">
                
    <p>Don't have an account? <a id="showRegister">Register here</a></p>
     
           </div>
      
      </form>
     
   </div>
  
  </div>

   
 <!-- Forgot Password Modal -->
 
        <div class="modal" id="forgotPasswordModal">
   
        <div class="modal-content">
       
          <div class="modal-header">
           
       <h2 class="modal-title">Forgot Password</h2>
        
        <button class="close-modal">&times;</button>
         
   </div>
     
       <form id="forgotPasswordForm">
        
        <div class="form-group">
           
         <label class="form-label">Email</label>
       
             <input type="email" class="form-input" id="forgotEmail" required>
           
     </div>
     
           <button type="submit" class="login-btn">Reset Password</button>
        
        <div class="form-footer">
        
            <p>Remember your password? <a id="showLoginFromForgot">Login here</a></p>
         
       </div>
    
        </form>
     
   </div>
  
  </div>

 
   <!-- Registration Modal -->
  
           <div class="modal" id="registerModal">
      
          <div class="modal-content">
     
            <div class="modal-header">
         
             <h2 class="modal-title">Customer Registration</h2>
      
             <button class="close-modal">&times;</button>
        
    </div>
        
     <form id="registerForm">
      
          <div class="form-group">
         
           <label class="form-label">Full Name</label>
      
              <input type="text" class="form-input" id="registerName" required>
         
       </div>
         
           <div class="form-group">
            
             <label class="form-label">Email</label>
          
               <input type="email" class="form-input" id="registerEmail" required>
         
       </div>
       
            <div class="form-group">
            
               <label class="form-label">Phone Number</label>
            
                 <input type="tel" class="form-input" id="registerPhone" required>
         
       </div>
        
            <div class="form-group">
            
              <label class="form-label">Password</label>
 
                   <input type="password" class="form-input" id="registerPassword" required>
      
          </div>
         
              <div class="form-group">
             
               <label class="form-label">Confirm Password</label>
      
                     <input type="password" class="form-input" id="registerConfirmPassword" required>
            
             </div>
           
              <button type="submit" class="register-btn">Create Account</button>
       
                 <div class="form-footer">
               
                   <p>Already have an account? <a id="showLogin">Login here</a></p>
         
       </div>
      
      </form>
    
    </div>
  
  </div>

   
 <!-- Profile Edit Modal -->
 
             <div class="modal" id="profileEditModal">
     
                <div class="modal-content">
      
                    <div class="modal-header">
          
                        <h2 class="modal-title">Edit Profile</h2>
   
                         <button class="close-modal">&times;</button>
       
               </div>
       
      <form id="profileEditForm">
        
           <div class="form-group">
           
                 <label class="form-label">Full Name</label>
           
                   <input type="text" class="form-input" id="editName" required>
       
            </div>
          
             <div class="form-group">
          
          <label class="form-label">Email</label>
          
            <input type="email" class="form-input" id="editEmail" required>
        
        </div>
           
     <div class="form-group">
       
             <label class="form-label">Phone Number</label>
        
            <input type="tel" class="form-input" id="editPhone" required>
      
          </div>
         
       <div class="form-group">
           
         <label class="form-label">Profile Photo</label>
        
            <input type="file" class="form-input" id="profilePhotoUpload" accept="image/*">
       
             <div class="upload-instruction">
        
                <strong>📸 paste your beautiful face:</strong><br>
      
                  • JPEG, PNG, WebP format<br>
             
           • Max size: 5MB<br>
          
              • Recommended: 200x200px
          
          </div>
            
        <div class="image-preview-container">
          
              <img id="profilePreviewImg" class="preview-image" style="display: none;">
              
      </div>
      
          </div>
       
         <div class="form-group">
          
          <label class="form-label">Address</label>
           
         <textarea class="form-input" id="editAddress" rows="3" required></textarea>
       
         </div>
        
        <div class="form-group">
       
             <label class="form-label">City</label>
         
           <input type="text" class="form-input" id="editCity" required>
       
         </div>
         
       <div class="form-group">
         
           <label class="form-label">State</label>
           
         <input type="text" class="form-input" id="editState" required>
          
      </div>
        
        <div class="form-group">
      
              <label class="form-label">Pincode</label>
          
          <input type="text" class="form-input" id="editPincode" required>
         
       </div>
      
          <button type="submit" class="save-btn">Save Changes</button>
         
   </form>
    
    </div>
   
 </div>

 
  <!-- Admin Login Modal -->
   
       <div class="modal" id="adminLoginModal">
    
         <div class="modal-content">
       
             <div class="modal-header">
        
               <h2 class="modal-title">Admin Login</h2>
   
                <button class="close-modal">&times;</button>
         
        </div>
         
          <form id="adminLoginForm">
      
             <div class="form-group">
          
                 <label class="form-label">Username</label>
             
           <input type="text" class="form-input" id="adminUsername" required>
           
          </div>
         
       <div class="form-group">
        
            <label class="form-label">Password</label>
      
               <input type="password" class="form-input" id="adminPassword" required>
        
        </div>
           
          <button type="submit" class="login-btn">Login</button>
     
         </form>
    
    </div>
  
  </div>

 
  <!-- Admin Panel -->
   
          <section class="admin-panel" id="adminPanel">
      
            <div class="admin-header">
      
             <h2 class="section-title">Admin Panel</h2>
       
              <button class="logout-btn" id="adminLogoutBtn">Logout</button>
    
          </div>
     
         <div class="admin-controls">
        
        <button class="control-btn" id="addProductBtn">Add New Product</button>
        
         <button class="control-btn" id="viewOrdersBtn">View Orders</button>
     
           <button class="control-btn" id="viewCustomersBtn">View Customers</button>
       
            <button class="control-btn" id="viewAnalyticsBtn">View Analytics</button>
     
   </div>
        

        <!-- Products Management -->
       
                 <div class="admin-content" id ="adminProductsSection">
     
                  <h3>Products Management</h3>
    
                <div class="products-grid" id="adminProductsContainer">
         
   <!-- Admin products will be loaded here -->
       
        </div>
      
  </div>

       
 <!-- Orders Management -->
     
          <div class="admin-content" id="adminOrdersSection" style="display: none;">
        
           <h3>Orders Management</h3>
       
          <div id="adminOrdersContainer">
        
  <!-- Admin orders will be loaded here -->
       
     </div>
      
  </div>

        
<!-- Customers Management -->
    
    <div class="admin-content" id="adminCustomersSection" style="display: none;">
        
    <h3>Customers Management</h3>
      
      <div class="customer-stats">
        
        <div class="stat-card">
        
            <div class="stat-number" id="totalCustomersCount">0</div>
         
           <div class="stat-label">Total Customers</div>
          
      </div>
        
        <div class="stat-card">
             
       <div class="stat-number" id="activeCustomersCount">0</div>
         
           <div class="stat-label">Active Customers</div>
        
        </div>
           
     <div class="stat-card">
            
        <div class="stat-number" id="totalOrdersCount">0</div>
          
          <div class="stat-label">Total Orders</div>
        
        </div>
       
     </div>
        
    <div id="customersContainer">
               
 <!-- Customers will be loaded here -->
          
  </div>
       
 </div>

       
 <!-- Analytics Section -->
      
           <div class="admin-content" id="adminAnalyticsSection" style="display: none;">
        
                <h3>Business Analytics</h3>
       
              <div class="analytics-controls">
        
              <div class="month-selector">
      
              <button class="month-btn active" data-month="all">All Time</button>
     
               <button class="month-btn" data-month="0">January</button>
        
            <button class="month-btn" data-month="1">February</button>
         
           <button class="month-btn" data-month="2">March</button>
          
          <button class="month-btn" data-month="3">April</button>
       
             <button class="month-btn" data-month="4">May</button>
         
           <button class="month-btn" data-month="5">June</button>
        
            <button class="month-btn" data-month="6">July</button>
      
              <button class="month-btn" data-month="7">August</button>
     
               <button class="month-btn" data-month="8">September</button>
     
               <button class="month-btn" data-month="9">October</button>
      
              <button class="month-btn" data-month="10">November</button>
      
              <button class="month-btn" data-month="11">December</button>
         
       </div>
       
     </div>
        
    <div class="analytics-grid">
         
       <div class="analytics-card">
           
         <div class="analytics-number" id="totalOrders">0</div>
          
          <div class="analytics-label">Total Orders</div>
         
       </div>
       
         <div class="analytics-card">
            
        <div class="analytics-number" id="totalRevenue">₹0</div>
         
           <div class="analytics-label">Total Revenue</div>
        
        </div>
           
     <div class="analytics-card">
        
            <div class="analytics-number" id="totalCustomers">0</div>
             
       <div class="analytics-label">Total Customers</div>
      
          </div>
         
       <div class="analytics-card">
         
           <div class="analytics-number" id="totalProducts">0</div>
          
          <div class="analytics-label">Total Products</div>
          
      </div>
      
      </div>
            
    
        <h4 style="margin-top: 2rem;">Recent Orders</h4>
      
      <div id="recentOrdersContainer">
               
 <!-- Recent orders will be loaded here -->
        
    </div>
     
   </div>
    
</section>

    
<!-- Edit Product Modal -->
    
              <div class="edit-modal" id="editProductModal">
     
              <div class="edit-modal-content">
  
              <div class="modal-header">
 
               <h2 class="modal-title" id="editModalTitle">Edit Product</h2>
 
               <button class="close-modal">&times;</button>
   
         </div>
   
         <form id="editProductForm">
 
               <input type="hidden" id="editProductId">
 
               <div class="form-group">

                    <label class="form-label">Product Name</label>

                    <input type="text" class="form-input" id="editProductName" required>
 
               </div>
 
               <div class="form-group">
  
                  <label class="form-label">Description</label>
 
                   <textarea class="form-input" id="editProductDescription" rows="3" required></textarea>
 
               </div>
   
             <div class="form-group">
    
                <label class="form-label">Price (₹)</label>
  
                  <input type="number" class="form-input" id="editProductPrice" required>
    
            </div>
  
              <div class="form-group">
 
                   <label class="form-label">Weight</label>

                    <input type="text" class="form-input" id="editProductWeight" required>
 
               </div>
 
               <div class="form-group">
  
                  <label class="form-label">Product Image</label>
    
                <input type="file" class="form-input" id="editProductImageFile" accept="image/*">
   
                 <div class="upload-instruction">
       
                 <strong>📸 paste your beautiful face:</strong><br>
 
                       • JPEG, PNG, WebP format<br>
   
                     • Max size: 5MB<br>
  
                      • Recommended: 500x500px<br>
 
                       • Clear product image with good lighting
  
                  </div>
 
                   <div class="image-preview-container">
   
                     <img id="productPreviewImg" class="preview-image" style="display: none;">
   
                 </div>
 
               </div>

                <div class="form-group">
  
                  <label class="form-label">Discount (%)</label>
  
                  <input type="number" class="form-input" id="editProductDiscount" min="0" max="100" value="0">
  
              </div>
 
               <div class="form-group">
 
                   <label class="form-label">Category</label>
 
                   <select class="form-input" id="editProductCategory" required>
 
                       <option value="Millet Grains">Millet Grains</option>

                        <option value="Millet Flour">Millet Flour</option>

                        <option value="Flakes">Flakes</option>
 
                       <option value="Cookies">Cookies</option>
 
                       <option value="Other">Other</option>
   
                 </select>
 
               </div>
    
            <div class="form-actions">
    
                <button type="submit" class="save-btn">Save Changes</button>
     
               <button type="button" class="cancel-btn" id="cancelEditBtn">Cancel</button>

                </div>
 
           </form>

        </div>
 
   </div>


    <script>
  
      // Complete product data with all 21 products
 
       let products = [
 
           {

                id: 1,

                name: "BrownTop Millet",

                description: "Pure and natural BrownTop bajra, rich in nutrition",

                price: 219,

                weight: "450 gm",

                image: "https://images.instagram.com/photo-1595341888016-a392ef81b7de?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 10,

                category: "Millet Grains"

            },

            {
 
               id: 2,

                name: "Foxtail Millet",

                description: "High fiber Foxtail millet, excellent for health",

                price: 139,

                weight: "450 gm",

                image: "https://images.instagram.com/photo-1586201375761-83865001e31c?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Millet Grains"

            },

            {
 
               id: 3,

                name: "Barnyard Millets",

                description: "Barnyard millet rich in protein and iron",
 
               price: 139,

                weight: "450 gm",

                image: "https://images.google.com/photo-1540420773420-3366772f4999?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Millet Grains"
 
           },

            {
 
               id: 4,

                name: "Barnyard Flour",

                description: "Freshly ground Barnyard millet flour",
 
               price: 149,

                weight: "450 gm",

                image: "https://images.google.com/photo-1567620905732-2d1ec7ab7445?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",
 
               discount: 0,
 
               category: "Millet Flour"
 
           },

            {
 
               id: 5,

                name: "Little Millet",

                description: "Small grain nutritious millet",

                price: 139,

                weight: "450 gm",

                image: "https://images.google.com/photo-1562962236-1a5d0d6d8644?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Millet Grains"

            },

            {
  
              id: 6,
 
               name: "Little Millet Flour",

                description: "Freshly ground Little millet flour",
 
               price: 149,
 
               weight: "450 gm",

                image: "https://images.google.com/photo-1562962236-1a5d0d6d8644?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 5,

                category: "Millet Flour"

            },

            {
  
              id: 7,
 
               name: "Kodo Millets",

                description: "Kodo millet, rich in antioxidants",

                price: 139,

                weight: "450 gm",

                image: "https://images.google.com/photo-1595341888016-a392ef81b7de?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Millet Grains"

            },
 
           {
  
              id: 8,
 
               name: "Kodo Flour",
 
               description: "Freshly ground Kodo millet flour",
 
               price: 149,
 
               weight: "450 gm",

                image: "https://images.google.com/photo-1567620905732-2d1ec7ab7445?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Millet Flour"
  
          },

            {
   
             id: 9,
 
               name: "Ragi Flour",

                description: "Ragi flour rich in calcium",

                price: 79,
 
               weight: "450 gm",

                image: "https://images.google.com/photo-1567620905732-2d1ec7ab7445?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,
 
               category: "Millet Flour"

            },
 
           {
   
             id: 10,
 
               name: "Kodo Flakes",
 
               description: "Kodo millet flakes, perfect for breakfast",
 
               price: 129,

                weight: "450 gm",

                image: "https://images.google.com/photo-1558961360-f4be9a27d91b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Flakes"
 
           },
 
           {
  
              id: 11,

                name: "Little Millet Flakes",

                description: "Little millet flakes, healthy breakfast",
 
               price: 129,

                weight: "450 gm",

                image: "https://images.google.com/photo-1558961360-f4be9a27d91b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Flakes"

            },

            {
 
               id: 12,

                name: "Barnyard Millets Flakes",

                description: "Barnyard millet flakes",

                price: 129,

                weight: "450 gm",

                image: "https://images.google.com/photo-1558961360-f4be9a27d91b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,
 
               category: "Flakes"
 
           },
 
           {
 
               id: 13,
 
               name: "Pearl Flakes",
 
               description: "Pearl millet flakes",
 
               price: 89,

                weight: "450 gm",

                image: "https://images.google.com/photo-1558961360-f4be9a27d91b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Flakes"
 
           },

            {
  
              id: 14,

                name: "Ragi Flakes",

                description: "Ragi flakes, rich in calcium",

                price: 89,
 
               weight: "450 gm",

                image: "https://images.google.com/photo-1558961360-f4be9a27d91b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Flakes"
 
           },
 
           {
   
             id: 15,
 
               name: "Sorghum Flakes",
 
               description: "Sorghum flakes, source of energy",

                price: 89,
 
               weight: "450 gm",
 
               image: "https://images.google.com/photo-1558961360-f4be9a27d91b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",
 
               discount: 0,

                category: "Flakes"

            },
   
         {
    
            id: 16,
  
              name: "Cashew Cookies",
 
               description: "Delicious cookies made from millet and cashew",
  
              price: 259,
 
               weight: "200 gm",

                image: "https://images.google.com/photo-1558961360-f4be9a27d91b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Cookies"
 
           },
 
           {
  
              id: 17,
 
               name: "Jeera Cookies",

                description: "Cookies made from millet and cumin seeds",
 
               price: 249,
  
              weight: "200 gm",
 
               image: "https://images.google.com/photo-1558961360-f4be9a27d91b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Cookies"
 
           },
 
           {
   
             id: 18,

                name: "Butter Cookies",
 
               description: "Millet butter cookies",

                price: 249,

                weight: "200 gm",

                image: "https://images.gpp.com/photo-1558961360-f4be9a27d91b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",
 
               discount: 5,

                category: "Cookies"
 
           },
 
           {
 
               id: 19,

                name: "Chocolate Cookies",
 
               description: "Millet chocolate cookies",
 
               price: 249,
 
               weight: "200 gm",
  
              image: "https://images.google.com/photo-1558961360-f4be9a27d91b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Cookies"
 
           },

            {
  
              id: 20,

                name: "Multigrain Flour",
 
               description: "Mix of various millets, rich in nutrition",

                price: 199,

                weight: "450 gm",
 
               image: "https://images.google.com/photo-1567620905732-2d1ec7ab7445?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",

                discount: 0,

                category: "Millet Flour"
 
           },
 
           {
  
              id: 21,
 
               name: "Jaggery Powder",
 
               description: "Pure jaggery powder, natural sweetness",
 
               price: 99,
 
               weight: "450 gm",

                image: "https://images.googlwe.com/photo-1586201375761-83865001e31c?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60",
 
               discount: 0,

                category: "Millet Flour"
 
           }
    
    ];

    
    // Customer and order data
   
     let customers = JSON.parse(localStorage.getItem('customers')) || [];

        let currentCustomer = JSON.parse(localStorage.getItem('currentCustomer')) || null;
 
       let orders = JSON.parse(localStorage.getItem('orders')) || [];
 
       let cart = [];
 
       let currentOrder = null;
 
       let currentCategory = "all";

        let currentMonthFilter = "all";

  
      // DOM Elements
 
       const loginBtn = document.getElementById('loginBtn');
  
      const registerBtn = document.getElementById('registerBtn');
 
       const profileBtn = document.getElementById('profileBtn');
 
       const logoutBtn = document.getElementById('logoutBtn');
 
       const userWelcome = document.getElementById('userWelcome');

        const loginModal = document.getElementById('loginModal');

        const registerModal = document.getElementById('registerModal');

        const forgotPasswordModal = document.getElementById('forgotPasswordModal');

        const profileEditModal = document.getElementById('profileEditModal');
 
       const profileSection = document.getElementById('profileSection');

        const ordersSection = document.getElementById('ordersSection');

        const navOrders = document.querySelector('.nav-orders');

        const navHome = document.querySelector('.nav-home');
 
       const navProducts = document.querySelector('.nav-products');
 
       const navCart = document.querySelector('.nav-cart');

        const shopNowBtn = document.getElementById('shopNowBtn');
 
       const forgotPasswordLink = document.getElementById('forgotPasswordLink');
 
       const showLoginFromForgot = document.getElementById('showLoginFromForgot');


    // Admin DOM Elements
 
       const adminLoginBtn = document.getElementById('adminLoginBtn');
 
       const adminLoginModal = document.getElementById('adminLoginModal');
 
       const adminPanel = document.getElementById('adminPanel');
 
       const adminLogoutBtn = document.getElementById('adminLogoutBtn');

        const adminLoginForm = document.getElementById('adminLoginForm');
 
       const addProductBtn = document.getElementById('addProductBtn');
 
       const viewOrdersBtn = document.getElementById('viewOrdersBtn');
 
       const viewCustomersBtn = document.getElementById('viewCustomersBtn');
 
       const viewAnalyticsBtn = document.getElementById('viewAnalyticsBtn');
 
       const adminProductsSection = document.getElementById('adminProductsSection');
 
       const adminOrdersSection = document.getElementById('adminOrdersSection');
 
       const adminCustomersSection = document.getElementById('adminCustomersSection');
 
       const adminAnalyticsSection = document.getElementById('adminAnalyticsSection');
 
       const adminOrdersContainer = document.getElementById('adminOrdersContainer');
 
       const customersContainer = document.getElementById('customersContainer');

        const recentOrdersContainer = document.getElementById('recentOrdersContainer');
 
       const totalOrdersElement = document.getElementById('totalOrders');

        const totalRevenueElement = document.getElementById('totalRevenue');
 
       const totalCustomersElement = document.getElementById('totalCustomers');
 
       const totalProductsElement = document.getElementById('totalProducts');
 
       const totalCustomersCount = document.getElementById('totalCustomersCount');
 
       const activeCustomersCount = document.getElementById('activeCustomersCount');
 
       const totalOrdersCount = document.getElementById('totalOrdersCount');
 
       const monthButtons = document.querySelectorAll('.month-btn');


  // Other DOM elements
 
       const closeModalBtns = document.querySelectorAll('.close-modal');
 
       const productsContainer = document.getElementById('productsContainer');
 
       const adminProductsContainer = document.getElementById('adminProductsContainer');

        const editProductModal = document.getElementById('editProductModal');
 
       const editProductForm = document.getElementById('editProductForm');
  
      const cancelEditBtn = document.getElementById('cancelEditBtn');
  
      const cartSection = document.getElementById('cartSection');
 
       const cartItems = document.getElementById('cartItems');
 
       const cartCountElement = document.querySelector('.cart-count');
 
       const cartSubtotal = document.getElementById('cartSubtotal');
 
       const cartTotal = document.getElementById('cartTotal');

        const checkoutBtn = document.getElementById('checkoutBtn');
 
       const paymentSection = document.getElementById('paymentSection');

        const verifyPaymentBtn = document.getElementById('verifyPaymentBtn');
 
       const qrCodeElement = document.getElementById('qrCode');
 
       const qrAmountElement = document.getElementById('qrAmount');
 
       const orderConfirmation = document.getElementById('orderConfirmation');
  
      const orderDetails = document.getElementById('orderDetails');
  
      const continueShoppingBtn = document.getElementById('continueShoppingBtn');
 
       const downloadInvoiceBtn = document.getElementById('downloadInvoiceBtn');
 
       const trackDeliveryBtn = document.getElementById('trackDeliveryBtn');

        const deliverySuccess = document.getElementById('deliverySuccess');
 
       const deliveryDetails = document.getElementById('deliveryDetails');
 
       const continueShoppingAfterDelivery = document.getElementById('continueShoppingAfterDelivery');

        const downloadInvoiceAfterDelivery = document.getElementById('downloadInvoiceAfterDelivery');
  
      const rateOrderBtn = document.getElementById('rateOrderBtn');

        const categoryCards = document.querySelectorAll('.category-card');

        const loginForm = document.getElementById('loginForm');
 
       const registerForm = document.getElementById('registerForm');
 
       const forgotPasswordForm = document.getElementById('forgotPasswordForm');

        const profileEditForm = document.getElementById('profileEditForm');

        const showRegister = document.getElementById('showRegister');

        const showLogin = document.getElementById('showLogin');

        const editProfileBtn = document.getElementById('editProfileBtn');
 
       const profileInfo = document.getElementById('profileInfo');
 
       const ordersContainer = document.getElementById('ordersContainer');

        const profileLogoutBtn = document.getElementById('profileLogoutBtn');

        const changePasswordBtn = document.getElementById('changePasswordBtn');


  // Photo upload elements

        const profilePhotoUpload = document.getElementById('profilePhotoUpload');

        const profilePreviewImg = document.getElementById('profilePreviewImg');

        const editProductImageFile = document.getElementById('editProductImageFile');

        const productPreviewImg = document.getElementById('productPreviewImg');

 
  // Admin credentials
 
       const ADMIN_CREDENTIALS = {
 
           username: "admin",
 
           password: "Rohit6207830982@kumar"
 
       };

  
  // Order Notification System
 
       class OrderNotifications {
 
           constructor() {
  
              this.setupNotifications();
  
              this.checkNewOrders();
  
          }

 
           setupNotifications() {
  
   // Check for new orders every 10 seconds
  
              setInterval(() => {
 
                   this.checkNewOrders();
  
              }, 10000);
 
           }

   
         checkNewOrders() {
  
              const currentOrders = JSON.parse(localStorage.getItem('orders')) || [];
 
               const lastChecked = localStorage.getItem('lastOrderCheck') || 0;
  
   // Find new orders since last check
 
               const newOrders = currentOrders.filter(order => 

                    order.id > lastChecked && order.status === 'confirmed'

                );


                if (newOrders.length > 0) {
 
  // Show notifications for new orders
 
                   newOrders.forEach(order => {
  
                      this.showNewOrderNotification(order);
  
                  });
   // Update last checked timestamp
 
                   const latestOrderId = Math.max(...currentOrders.map(o => o.id));
 
                   localStorage.setItem('lastOrderCheck', latestOrderId);
 
 // Update admin panel if open
 
                   this.updateAdminPanel();
 
               }
 
           }

 
           showNewOrderNotification(order) {
// Show browser notification
   
             if ('Notification' in window && Notification.permission === 'granted') {
  
                  new Notification('🛒 New Order Received!', {
    
                    body: `Order #${order.id} from ${order.customerName} - ₹${order.total}`,
 
                       icon: '/favicon.ico',
  
                      tag: 'new-order'

                    });

                }
 
  // Show in-app notification
   
             this.showInAppNotification(order);

 // Update admin analytics
  
              this.updateOrderCount();

            }

 
           showInAppNotification(order) {
 

     // Create notification element
 
               const notification = document.createElement('div');
 
               notification.className = 'order-notification';

                notification.innerHTML = `
  
                  <div class="notification-content">
 
                       <div class="notification-icon">🛒</div>
  
                      <div class="notification-text">

                            <strong>New Order #${order.id}</strong>

                            <p>${order.customerName} - ₹${order.total}</p>
 
                           <small>${new Date().toLocaleTimeString()}</small>
  
                      </div>
 
                       <button class="notification-close">&times;</button>

                    </div>

                `;


   // Add close functionality
 
               const closeBtn = notification.querySelector('.notification-close');
 
               closeBtn.addEventListener('click', () => {
 
                   notification.remove();
 
               });

 
    // Auto remove after 5 seconds
 
               setTimeout(() => {

                    if (notification.parentElement) {
 
                       notification.remove();
 
                   }
 
               }, 5000);

 
               document.body.appendChild(notification);
 
           }


            updateAdminPanel() {

   // Refresh admin orders if panel is open
  
              if (adminPanel.style.display === 'block') {
 
                   if (adminOrdersSection.style.display !== 'none') {
  
                      renderAdminOrders();
 
                   }
 
                   if (adminAnalyticsSection.style.display !== 'none') {
  
                      renderAdminAnalytics();
 
                   }
 
                   if (adminCustomersSection.style.display !== 'none') {
  
                      renderAdminCustomers();
  
                  }
 
               }
  
          }

 
           updateOrderCount() {
 
   // Update order count in admin panel
  
              const orders = JSON.parse(localStorage.getItem('orders')) || [];

                const newOrdersCount = orders.filter(order => order.status === 'confirmed').length;
 
   // Update badge on admin button

                const adminBtn = document.getElementById('adminLoginBtn');

                if (newOrdersCount > 0) {
 
                   if (!adminBtn.querySelector('.order-badge')) {
 
                       const badge = document.createElement('span');

                        badge.className = 'order-badge';
  
                      badge.textContent = newOrdersCount;
  
                      adminBtn.appendChild(badge);
 
                   } else {
  
                      adminBtn.querySelector('.order-badge').textContent = newOrdersCount;

                    }
  
              } else {
 
                   const existingBadge = adminBtn.querySelector('.order-badge');
  
                  if (existingBadge) {
 
                       existingBadge.remove();
 
                   }

                }
 
           }

        }

 
 // Initialize notification system
 
       let orderNotifications;


 
 // Customer Data Management System
 
       class CustomerManager {
 
           constructor() {

                this.customers = JSON.parse(localStorage.getItem('customers')) || [];

                this.orders = JSON.parse(localStorage.getItem('orders')) || [];

            }

 
   // All customers ka data return krte h
            getAllCustomers() {
 
               return this.customers.map(customer => {
 
                   const customerOrders = this.orders.filter(order => order.customerId === customer.id);
 
                   const totalSpent = customerOrders.reduce((sum, order) => sum + order.total, 0);

                    
                    return {
 
                       ...customer,

                        orderCount: customerOrders.length,

                        totalSpent: totalSpent,

                        lastOrder: customerOrders.length > 0 ? 
 
                           customerOrders.sort((a, b) => b.id - a.id)[0].date : 'No orders',
 
                       firstOrder: customerOrders.length > 0 ? 

                            customerOrders.sort((a, b) => a.id - b.id)[0].date : 'No orders'

                    };

                });

            }

 
   // Customer analytics

            getCustomerAnalytics() {
 
               const customers = this.getAllCustomers();
 
               
                return {
  
                  totalCustomers: customers.length,
  
                  activeCustomers: customers.filter(c => c.orderCount > 0).length,
   
                 totalOrders: this.orders.length,
 
                   totalRevenue: this.orders.reduce((sum, order) => sum + order.total, 0),
 
                   averageOrderValue: this.orders.length > 0 ? 

                        (this.orders.reduce((sum, order) => sum + order.total, 0) / this.orders.length).toFixed(2) : 0,
  
                  customersWithOrders: customers.filter(c => c.orderCount > 0).length,

                    newCustomersThisMonth: this.getNewCustomersThisMonth()

                };
 
           }

   
         getNewCustomersThisMonth() {
 
               const currentMonth = new Date().getMonth();
 
               const currentYear = new Date().getFullYear();
  
              
                return this.customers.filter(customer => {
 
                   const customerDate = new Date(customer.id);
 
                   return customerDate.getMonth() === currentMonth && 
  
                         customerDate.getFullYear() === currentYear;
  
              }).length;
 
           }

      
  // Export customer data to CSV

            exportToCSV() {
 
               const customers = this.getAllCustomers();
  
              let csv = 'Name,Email,Phone,Total Orders,Total Spent,Last Order,Registration Date\n';
 
               
                customers.forEach(customer => {
 
                   csv += `"${customer.name}","${customer.email}","${customer.phone}",${customer.orderCount},${customer.totalSpent},"${customer.lastOrder}","${new Date(customer.id).toLocaleDateString()}"\n`;
 
               });
 
               
                return csv;
  
          }
  
      }

 
 // Initialize customer manager
 
       let customerManager;



  // Photo Upload System
  
      class PhotoUploader {
 
           constructor() {
  
              this.setupEventListeners();
  
          }
 
           
            setupEventListeners() {
   
 // Profile photo upload
 
               if (profilePhotoUpload) {
   
                 profilePhotoUpload.addEventListener('change', (e) => {
    
                    this.handleImageUpload(e, profilePreviewImg, 200, 200, true);

                    });
 
               }
   
 // Product image upload
  
              if (editProductImageFile) {
  
                  editProductImageFile.addEventListener('change', (e) => {
  
                      this.handleImageUpload(e, productPreviewImg, 500, 500, false);
 
                   });
  
              }
 
           }
 
 
          
            handleImageUpload(event, previewElement, maxWidth, maxHeight, isCircle = false) {
  
              const file = event.target.files[0];
 
               
                if (!file) return;
 
  // Validation
 
               if (!this.validateImage(file)) {
 
                   event.target.value = '';

                    return;

                }
 
  // Preview image
  
              const reader = new FileReader();
 
               reader.onload = (e) => {
  
                  previewElement.src = e.target.result;
 
                   previewElement.style.display = 'block';
  
                  
                    if (isCircle) {
 
                       previewElement.style.borderRadius = '50%';
 
                   } else {
  
                      previewElement.style.borderRadius = '5px';
  
                  }
  
              };
 
               reader.readAsDataURL(file);
  
          }
  
          
            validateImage(file) {
  
  // Check file type
 
               const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];
 
               if (!validTypes.includes(file.type)) {
  
                  alert('Please select a valid image file (JPEG, PNG, GIF, WebP)');
 
                   return false;
  
              }
 
 // Check file size (max 5MB)

                const maxSize = 5 * 1024 * 1024; // 5MB
 
               if (file.size > maxSize) {
 
                   alert('Image size should be less than 5MB');
 
                   return false;
 
               }
 
               
                return true;
  
          }

        }

 
 // Initialize the page

        document.addEventListener('DOMContentLoaded', function() {
 
           renderProducts();
 
           updateCartCount();
 
           updateUserInterface();
 
  // Initialize systems
 
           orderNotifications = new OrderNotifications();
 
           customerManager = new CustomerManager();
 
           new PhotoUploader();
 
  // Request notification permission
  
          if ('Notification' in window) {
 
               Notification.requestPermission();
 
           }
 
 // Event Listeners for navigation
 
           navHome.addEventListener('click', showHome);
 
           navProducts.addEventListener('click', showProducts);
 
           navCart.addEventListener('click', showCart);

            navOrders.addEventListener('click', showOrders);
 
           shopNowBtn.addEventListener('click', showProducts);
 
 // Event Listeners for customer features
  
          loginBtn.addEventListener('click', () => loginModal.style.display = 'flex');

            registerBtn.addEventListener('click', () => registerModal.style.display = 'flex');
 
           profileBtn.addEventListener('click', showProfile);
 
           logoutBtn.addEventListener('click', logoutCustomer);
 
           profileLogoutBtn.addEventListener('click', logoutCustomer);

            loginForm.addEventListener('submit', handleLogin);

            registerForm.addEventListener('submit', handleRegister);
 
           forgotPasswordForm.addEventListener('submit', handleForgotPassword);

            profileEditForm.addEventListener('submit', handleProfileEdit);
 
           editProfileBtn.addEventListener('click', () => profileEditModal.style.display = 'flex');

            showRegister.addEventListener('click', () => {
 
               loginModal.style.display = 'none';

                registerModal.style.display = 'flex';
  
          });

            showLogin.addEventListener('click', () => {

                registerModal.style.display = 'none';
 
               loginModal.style.display = 'flex';
  
          });

            forgotPasswordLink.addEventListener('click', () => {
  
              loginModal.style.display = 'none';

                forgotPasswordModal.style.display = 'flex';
 
           });
 
           showLoginFromForgot.addEventListener('click', () => {
  
              forgotPasswordModal.style.display = 'none';
 
               loginModal.style.display = 'flex';

            });
 
 // Category filter event listeners
 
           categoryCards.forEach(card => {

                card.addEventListener('click', function() {
  
                  const category = this.dataset.category;
  
                  filterProductsByCategory(category);
 
               });
 
           });
            
           
 // Admin event listeners

            adminLoginBtn.addEventListener('click', openAdminLogin);
  
          adminLogoutBtn.addEventListener('click', logoutAdmin);

            adminLoginForm.addEventListener('submit', handleAdminLogin);
 
           addProductBtn.addEventListener('click', openAddProductModal);

            viewOrdersBtn.addEventListener('click', showAdminOrders);
  
          viewCustomersBtn.addEventListener('click', showAdminCustomers);

            viewAnalyticsBtn.addEventListener('click', showAdminAnalytics);

 // Month selector event listeners

            monthButtons.forEach(btn => {

                btn.addEventListener('click', function() {
 
                   const month = this.dataset.month;
 
                   filterAnalyticsByMonth(month);
 
               });

            });
 
 // Delivery success event listeners

            trackDeliveryBtn.addEventListener('click', showDeliverySuccess);

            continueShoppingAfterDelivery.addEventListener('click', continueShopping);

            downloadInvoiceAfterDelivery.addEventListener('click', downloadInvoice);
 
           rateOrderBtn.addEventListener('click', rateOrder);
            
           
 // Existing event listeners...

            closeModalBtns.forEach(btn => btn.addEventListener('click', closeModals));

            cancelEditBtn.addEventListener('click', () => editProductModal.style.display = 'none');

            editProductForm.addEventListener('submit', handleProductSave);
 
           checkoutBtn.addEventListener('click', showPaymentOptions);
 
           verifyPaymentBtn.addEventListener('click', verifyQRPayment);
 
           continueShoppingBtn.addEventListener('click', continueShopping);
 
           downloadInvoiceBtn.addEventListener('click', downloadInvoice);
            
           
 // Close modal when clicking outside
 
           window.addEventListener('click', function(event) {
 
               if (event.target === adminLoginModal) adminLoginModal.style.display = 'none';
 
               if (event.target === editProductModal) editProductModal.style.display = 'none';

                if (event.target === loginModal) loginModal.style.display = 'none';
 
               if (event.target === registerModal) registerModal.style.display = 'none';
 
               if (event.target === profileEditModal) profileEditModal.style.display = 'none';

                if (event.target === forgotPasswordModal) forgotPasswordModal.style.display = 'none';
 
           });
 
       });

       
 // Navigation functions
 
       function showHome() {
 
           hideAllSections();

            document.querySelector('.hero').style.display = 'block';
 
           document.querySelector('.categories').style.display = 'block';

            document.querySelector('.products-section').style.display = 'block';
 
           document.querySelector('.benefits').style.display = 'block';

        }


        function showProducts() {

            hideAllSections();
 
           document.querySelector('.categories').style.display = 'block';

            document.querySelector('.products-section').style.display = 'block';
 
           renderProducts();

        }

 
       function showCart() {
 
           hideAllSections();

            cartSection.style.display = 'block';
 
           renderCart();
 
       }

  
      function showOrders() {

            if (!currentCustomer) {
  
              alert('Please login to view your orders');
 
               loginModal.style.display = 'flex';
 
               return;
 
           }
  
          hideAllSections();
  
          ordersSection.style.display = 'block';
 
           renderOrders();
  
      }

    
    function showProfile() {

            if (!currentCustomer) {
 
               alert('Please login to view profile');
  
              loginModal.style.display = 'flex';
  
              return;
  
          }
  
          hideAllSections();
 
           profileSection.style.display = 'block';
 
           renderProfile();
 
       }


        function hideAllSections() {
  
          const sections = [
    
            document.querySelector('.hero'),
 
               document.querySelector('.categories'),
   
             document.querySelector('.products-section'),
  
              document.querySelector('.benefits'),
 
               cartSection,
 
               paymentSection,
 
               profileSection,
  
              ordersSection,
   
             orderConfirmation,
   
             deliverySuccess,
    
            adminPanel
 
           ];
   
         
            sections.forEach(section => {
  
              if (section) section.style.display = 'none';
   
         });
   
     }

  
   // Product functions

        function renderProducts() {
  
          productsContainer.innerHTML = '';
 
           
            let filteredProducts = products;
   
         if (currentCategory !== "all") {
     
           filteredProducts = products.filter(product => product.category === currentCategory);
      
      }
   
         
            if (filteredProducts.length === 0) {
    
            productsContainer.innerHTML = '<p style="grid-column: 1/-1; text-align: center; padding: 2rem;">No products found in this category.</p>';
  
              return;
  
          }
   
         
            filteredProducts.forEach(product => {
   
             const productCard = createProductCard(product, false);
  
              productsContainer.appendChild(productCard);
  
          });
  
      }

  
      function createProductCard(product, isAdmin) {
 
           const card = document.createElement('div');
 
           card.className = 'product-card';
 
           card.dataset.id = product.id;
   
         
            const discountBadge = product.discount > 0 ? 
  
              `<div class="discount-badge">${product.discount}% OFF</div>` : '';
   
         
            const editButton = isAdmin ? 
   
             `<button class="edit-product-btn" data-id="${product.id}">
  
                  <i class="fas fa-edit"></i> Edit
   
             </button>` : '';
  
          
            card.innerHTML = `
 
               ${discountBadge}
 
               ${editButton}
 
               <img src="${product.image}" alt="${product.name}" class="product-image">
 
               <div class="product-info">
  
                  <h3 class="product-title">${product.name}</h3>
 
                   <p class="product-description">${product.description}</p>
   
                 <p class="product-weight">${product.weight}</p>
    
                <p class="product-price">₹${product.price}</p>
  
                  ${!isAdmin ? `
   
                 <div class="quantity-selector">
 
                       <span class="quantity-label">Qty:</span>
  
                      <input type="number" class="quantity-input" value="1" min="1" max="10">
   
                 </div>
   
                 <button class="add-to-cart">Add to Cart</button>
  
                  ` : ''}
     
           </div>
   
         `;
        
   // Add event listeners for admin edit buttons
  
          if (isAdmin) {
   
             const editBtn = card.querySelector('.edit-product-btn');

                editBtn.addEventListener('click', () => openEditProductModal(product.id));
 
           }
            
           
 // Add event listeners for customer add to cart
 
           if (!isAdmin) {
   
             const addToCartBtn = card.querySelector('.add-to-cart');
  
              const quantityInput = card.querySelector('.quantity-input');

                
                addToCartBtn.addEventListener('click', function() {
 
                   const quantity = parseInt(quantityInput.value);
 
                   if (quantity > 0 && quantity <= 10) {
  
                      addToCart(product, quantity);
  
                  } else {
    
                    alert('Please enter a valid quantity between 1 and 10');
  
                  }
   
             });
 
           }
  
          
            return card;
  
      }

  
      function filterProductsByCategory(category) {
  
          currentCategory = category;
            
            
// Update active category card
 
           categoryCards.forEach(card => {
  
              if (card.dataset.category === category) {
 
                   card.classList.add('active');
  
              } else {
   
                 card.classList.remove('active');
 
               }
  
          });

            
            renderProducts();
 
       }

        
// Cart functions
  
      function addToCart(product, quantity) {

            const existingItem = cart.find(item => item.id === product.id);
 
           
            if (existingItem) {
 
               existingItem.quantity += quantity;
 
           } else {
  
              cart.push({
   
                 ...product,
 
                   quantity: quantity
  
              });
  
          }
 
           
            updateCartCount();
 
           showNotification(`${product.name} added to cart!`);

        }

  
      function renderCart() {
 
           cartItems.innerHTML = '';
  
          
            if (cart.length === 0) {
  
              cartItems.innerHTML = '<p style="text-align: center; padding: 2rem;">Your cart is empty</p>';

                cartSubtotal.textContent = '₹0';

                cartTotal.textContent = '₹0';
 
               return;
 
           }
 
           
            let subtotal = 0;
 
           
            cart.forEach(item => {
  
              const itemTotal = item.price * item.quantity;

                subtotal += itemTotal;
 
               
                const cartItemElement = document.createElement('div');

                cartItemElement.className = 'cart-item';
  
              cartItemElement.innerHTML = `
   
                 <div class="cart-item-info">
  
                      <img src="${item.image}" alt="${item.name}" class="cart-item-image">
 
                       <div class="cart-item-details">
 
                           <h4>${item.name}</h4>
   
                         <p>${item.weight} • ₹${item.price} each</p>
  
                          <div class="quantity-selector">
 
                               <button class="quantity-btn minus" data-id="${item.id}">-</button>
  
                              <span class="quantity-display">${item.quantity}</span>

                                <button class="quantity-btn plus" data-id="${item.id}">+</button>
  
                              <button class="remove-btn" data-id="${item.id}">Remove</button>
  
                          </div>
 
                       </div>
 
                   </div>
  
                  <div class="cart-item-price">₹${itemTotal}</div>
 
               `;
  
              cartItems.appendChild(cartItemElement);

            });
 
           
            const shipping = 10;

            const total = subtotal + shipping;

            
            cartSubtotal.textContent = `₹${subtotal}`;

            cartTotal.textContent = `₹${total}`;
            
           
 // Add event listeners for quantity buttons
 
           document.querySelectorAll('.quantity-btn.minus').forEach(btn => {
 
               btn.addEventListener('click', function() {

                    updateCartQuantity(this.dataset.id, -1);
 
               });

            });
 
           
            document.querySelectorAll('.quantity-btn.plus').forEach(btn => {
 
               btn.addEventListener('click', function() {
  
                  updateCartQuantity(this.dataset.id, 1);
  
              });
 
           });
     
       
            document.querySelectorAll('.remove-btn').forEach(btn => {
  
              btn.addEventListener('click', function() {
  
                  removeFromCart(this.dataset.id);
  
              });
 
           });
  
      }

   
     function updateCartQuantity(productId, change) {
 
           const item = cart.find(item => item.id === parseInt(productId));
  
          if (item) {
  
              item.quantity += change;
  
              if (item.quantity <= 0) {
  
                  removeFromCart(productId);

                } else {
   
                 renderCart();
 
                   updateCartCount();

                }
  
          }
 
       }

     
   function removeFromCart(productId) {
 
           cart = cart.filter(item => item.id !== parseInt(productId));
 
           renderCart();
 
           updateCartCount();
 
       }

 
       function updateCartCount() {
 
           const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
  
          cartCountElement.textContent = totalItems;
            
           
 // Hide bubble if cart is empty

            if (totalItems === 0) {
  
              cartCountElement.style.display = 'none';
 
           } else {
 
               cartCountElement.style.display = 'flex';

            }

        }

        
// User authentication functions
 
       function handleLogin(e) {
  
          e.preventDefault();
 
           const email = document.getElementById('loginEmail').value;
     
       const password = document.getElementById('loginPassword').value;
 
           
            const customer = customers.find(c => c.email === email && c.password === password);
  
          
            if (customer) {
  
              currentCustomer = customer;
 
               localStorage.setItem('currentCustomer', JSON.stringify(currentCustomer));
  
              updateUserInterface();
 
               loginModal.style.display = 'none';
  
              showNotification('Login successful!');
   
         } else {
  
              alert('Invalid email or password');
 
           }

        }

  
      function handleRegister(e) {
 
           e.preventDefault();
   
         const name = document.getElementById('registerName').value;

            const email = document.getElementById('registerEmail').value;
 
           const phone = document.getElementById('registerPhone').value;
   
         const password = document.getElementById('registerPassword').value;
 
           const confirmPassword = document.getElementById('registerConfirmPassword').value;
  
          
            if (password !== confirmPassword) {
 
               alert('Passwords do not match');
 
               return;

            }
  
          
            if (customers.find(c => c.email === email)) {

                alert('Email already registered');
 
               return;
   
         }
   
         
            const newCustomer = {
     
           id: Date.now(),
  
              name,
   
             email,
  
              phone,
  
              password,
  
              address: '',
  
              city: '',
    
            state: '',
   
             pincode: ''
     
       };
          
  
            customers.push(newCustomer);
  
          currentCustomer = newCustomer;
   
         
            localStorage.setItem('customers', JSON.stringify(customers));
 
           localStorage.setItem('currentCustomer', JSON.stringify(currentCustomer));
 
           
            updateUserInterface();
 
           registerModal.style.display = 'none';
  
          showNotification('Registration successful!');

        }

 
       function logoutCustomer() {
  
          currentCustomer = null;
 
           localStorage.removeItem('currentCustomer');
 
           updateUserInterface();
 
           hideAllSections();

            showHome();
 
           showNotification('Logged out successfully');
 
       }

  
      function updateUserInterface() {
  
          if (currentCustomer) {
 
               userWelcome.textContent = `Welcome, ${currentCustomer.name}!`;
 
               loginBtn.style.display = 'none';
  
              registerBtn.style.display = 'none';
   
             profileBtn.style.display = 'block';
 
               logoutBtn.style.display = 'block';
  
          } else {
 
               userWelcome.textContent = 'Welcome, Guest!';
 
               loginBtn.style.display = 'block';
 
               registerBtn.style.display = 'block';
  
              profileBtn.style.display = 'none';
 
               logoutBtn.style.display = 'none';

            }
  
      }

        
// Profile functions
 
       function renderProfile() {
 
           if (!currentCustomer) return;

            
            profileInfo.innerHTML = `
  
              <div>
  
                  <strong>Name:</strong>

                    <p>${currentCustomer.name}</p>
 
               </div>
  
              <div>

                    <strong>Email:</strong>
     
               <p>${currentCustomer.email}</p>
  
              </div>
 
               <div>
 
                   <strong>Phone:</strong>
 
                   <p>${currentCustomer.phone}</p>
 
               </div>

                <div>
  
                  <strong>Address:</strong>
 
                   <p>${currentCustomer.address || 'Not set'}</p>
 
               </div>

                <div>
 
                   <strong>City:</strong>

                    <p>${currentCustomer.city || 'Not set'}</p>
  
              </div>

                <div>

                    <strong>State:</strong>

                    <p>${currentCustomer.state || 'Not set'}</p>
 
               </div>
 
           `;
  
  // Pre-fill edit form
  
          document.getElementById('editName').value = currentCustomer.name;
 
           document.getElementById('editEmail').value = currentCustomer.email;
 
           document.getElementById('editPhone').value = currentCustomer.phone;

            document.getElementById('editAddress').value = currentCustomer.address || '';
 
           document.getElementById('editCity').value = currentCustomer.city || '';

            document.getElementById('editState').value = currentCustomer.state || '';
 
           document.getElementById('editPincode').value = currentCustomer.pincode || '';
 
       }

  
      function handleProfileEdit(e) {
  
          e.preventDefault();
 
           
            currentCustomer.name = document.getElementById('editName').value;

            currentCustomer.email = document.getElementById('editEmail').value;
 
           currentCustomer.phone = document.getElementById('editPhone').value;
  
          currentCustomer.address = document.getElementById('editAddress').value;
 
           currentCustomer.city = document.getElementById('editCity').value;
 
           currentCustomer.state = document.getElementById('editState').value;

            currentCustomer.pincode = document.getElementById('editPincode').value;
 
           
           
 // Handle profile photo upload
 
           const profilePhotoFile = document.getElementById('profilePhotoUpload').files[0];

            if (profilePhotoFile) {
 
               const reader = new FileReader();

                reader.onload = function(e) {
 
                   currentCustomer.profilePhoto = e.target.result;
  
                  saveCustomerData();
 
               };

                reader.readAsDataURL(profilePhotoFile);
  
          } else {
  
              saveCustomerData();
 
           }
  
          
            function saveCustomerData() {
                
// Update in customers array
  
              const customerIndex = customers.findIndex(c => c.id === currentCustomer.id);
  
              if (customerIndex !== -1) {
 
                   customers[customerIndex] = currentCustomer;
 
               }
 
               
                localStorage.setItem('customers', JSON.stringify(customers));

                localStorage.setItem('currentCustomer', JSON.stringify(currentCustomer));
 
               
                profileEditModal.style.display = 'none';
 
               renderProfile();
 
               showNotification('Profile updated successfully!');
  
          }
 
       }

        
// Payment functions

        function showPaymentOptions() {
  
          if (cart.length === 0) {
 
               alert('Your cart is empty');
 
               return;
 
           }
 
           
            if (!currentCustomer) {
 
               alert('Please login to proceed with payment');
  
              loginModal.style.display = 'flex';
 
               return;
  
          }
 
           
            hideAllSections();
 
           paymentSection.style.display = 'block';
            
           
 // Calculate total amount
           
                    const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
 
                    const total = subtotal + 10;
 
 // Generate QR code for UPI payment
 
           qrAmountElement.textContent = `₹${total}`;
  
          generateQRCode(total);
 
       }

  
      function generateQRCode(amount) {
 
           const upiId = "redalenterprises@okdfcbank";
 
           const upiUrl = `upi://pay?pa=${upiId}&pn=Biaana&am=${amount}&cu=INR`;
            
            
// Clear previous QR code
 
           qrCodeElement.innerHTML = '';
            
            
// Generate new QR code
 
           const qr = qrcode(0, 'M');
 
           qr.addData(upiUrl);
 
           qr.make();

            
            qrCodeElement.innerHTML = qr.createImgTag(5);
 
       }

 
       function verifyQRPayment() {

            const transactionId = prompt('Please enter your UPI transaction ID:');

            if (transactionId) {
  
              processPayment('upi', transactionId);

            }
 
       }

 
       function processPayment(method, transactionId = null) {
 
           const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

            const total = subtotal + 10;
            
            
// Find customer phone number
 
           const customerPhone = currentCustomer.phone;
 
           
            const order = {
 
               id: Date.now(),
   
             customerId: currentCustomer.id,
 
               customerName: currentCustomer.name,
 
               customerPhone: customerPhone,

                customerEmail: currentCustomer.email,
 
               customerAddress: currentCustomer.address || 'Not provided',
 
               customerCity: currentCustomer.city || 'Not provided',
  
              customerState: currentCustomer.state || 'Not provided',

                customerPincode: currentCustomer.pincode || 'Not provided',
 
               items: [...cart],
 
               subtotal: subtotal,

                shipping: 10,

                total: total,
 
               paymentMethod: method,

                transactionId: transactionId,

                status: 'confirmed',
  
              date: new Date().toLocaleDateString(),
  
              timestamp: Date.now()
 
           };
   
         
            orders.push(order);
 
           localStorage.setItem('orders', JSON.stringify(orders));
 
           
            currentOrder = order;
 
           cart = [];
 
           updateCartCount();
 
           
            showOrderConfirmation(order);
 
       }

   
     function showOrderConfirmation(order) {
  
          hideAllSections();
 
           orderConfirmation.style.display = 'block';
 
           
            orderDetails.innerHTML = `
   
             <div class="summary-row">
    
                <span>Order ID:</span>
  
                  <span>#${order.id}</span>
 
               </div>
   
             <div class="summary-row">
  
                  <span>Order Date:</span>
  
                  <span>${order.date}</span>
 
               </div>
  
              <div class="summary-row">
 
                   <span>Customer:</span>
  
                  <span>${order.customerName}</span>
   
             </div>
  
              <div class="summary-row">
   
                 <span>Phone:</span>
   
                 <span>${order.customerPhone}</span>
  
              </div>
   
             <div class="summary-row">
  
                  <span>Payment Method:</span>
 
                   <span>${order.paymentMethod.toUpperCase()}</span>
  
              </div>
  
              ${order.transactionId ? `
 
               <div class="summary-row">
     
               <span>Transaction ID:</span>
    
                <span>${order.transactionId}</span>
    
            </div>
    
            ` : ''}
      
          <div class="summary-row summary-total">
 
                   <span>Total Amount:</span>
      
              <span>₹${order.total}</span>
  
              </div>
 
           `;
 
       }

  
      function continueShopping() {
 
           hideAllSections();
   
         showHome();
  
      }

        
// Delivery Success Function
 
       function showDeliverySuccess() {
   
         if (!currentOrder) {
   
             alert('No order found to track delivery');
    
            return;
      
      }
      
      
          
  hideAllSections();
  
          deliverySuccess.style.display = 'block';
    
        
            deliveryDetails.innerHTML = `
    
            <div class="summary-row">
     
               <span>Order ID:</span>
      
              <span>#${currentOrder.id}</span>
  
              </div>
  
              <div class="summary-row">
   
                 <span>Order Date:</span>
      
              <span>${currentOrder.date}</span>
     
           </div>
  
              <div class="summary-row">
 
                   <span>Customer:</span>
 
                   <span>${currentOrder.customerName}</span>
 
               </div>
 
               <div class="summary-row">
  
                  <span>Delivery Address:</span>
 
                   <span>${currentOrder.customerAddress || 'Not provided'}</span>
 
               </div>
  
              <div class="summary-row">
  
                  <span>City:</span>
 
                   <span>${currentOrder.customerCity || 'Not provided'}</span>
 
               </div>
 
               <div class="summary-row">
  
                  <span>Delivery Status:</span>
  
                  <span style="color: #2c5530; font-weight: bold;">Delivered Successfully</span>
 
               </div>
  
              <div class="summary-row">
  
                  <span>Delivery Date:</span>
  
                  <span>${new Date().toLocaleDateString()}</span>
   
             </div>
  
              <div class="summary-row summary-total">
   
                 <span>Total Amount:</span>
   
                 <span>₹${currentOrder.total}</span>
  
              </div>
 
           `;
    
    }

  
      function rateOrder() {
    
        const rating = prompt('Please rate your order from 1 to 5 stars:');
   
         if (rating && rating >= 1 && rating <= 5) {
   
  // Save rating to order
  
              currentOrder.rating = rating;
 
 // Update orders in localStorage
 
               const orderIndex = orders.findIndex(o => o.id === currentOrder.id);
  
              if (orderIndex !== -1) {
  
                  orders[orderIndex] = currentOrder;
 
                   localStorage.setItem('orders', JSON.stringify(orders));
 
               }
 
               
                showNotification(`Thank you for your ${rating} star rating!`);
 
           } else if (rating !== null) {
 
               alert('Please enter a valid rating between 1 and 5');
 
           }
        }

       
 // Invoice Download Function
 
       function downloadInvoice() {
 
           if (!currentOrder) {
 
               alert('No order found to download invoice');
   
             return;
  
          }
  
          
            try {
                
// Create a new jsPDF instance
  
              const { jsPDF } = window.jspdf;

                const doc = new jsPDF();
                
               
 // Add company logo and header
  
              doc.setFillColor(44, 85, 48);
  
              doc.rect(0, 0, 210, 30, 'F');
  
              doc.setTextColor(255, 255, 255);
 
               doc.setFontSize(20);
  
              doc.text('Biaana - Millet Products', 105, 15, { align: 'center' });
                
                
// Invoice title

                doc.setTextColor(0, 0, 0);

                doc.setFontSize(16);
 
               doc.text('INVOICE', 105, 45, { align: 'center' });
                
                
// Order details

                doc.setFontSize(12);
  
              let yPosition = 60;
     
           
                doc.text(`Invoice Number: #${currentOrder.id}`, 20, yPosition);
 
               doc.text(`Date: ${currentOrder.date}`, 20, yPosition + 8);
  
              doc.text(`Payment Method: ${currentOrder.paymentMethod.toUpperCase()}`, 20, yPosition + 16);
                
              
  // Customer details

                yPosition += 30;
  
              doc.text('Bill To:', 20, yPosition);
  
              doc.text(`${currentOrder.customerName}`, 20, yPosition + 8);
 
               doc.text(`${currentOrder.customerEmail}`, 20, yPosition + 16);
  
              doc.text(`${currentOrder.customerPhone}`, 20, yPosition + 24);
  
              
                if (currentOrder.customerAddress) {
 
                   doc.text(`${currentOrder.customerAddress}`, 20, yPosition + 32);

                    doc.text(`${currentOrder.customerCity}, ${currentOrder.customerState} - ${currentOrder.customerPincode}`, 20, yPosition + 40);
   
             }
                
                
// Order items table header
 
               yPosition += 60;
  
              doc.setFillColor(233, 196, 106);
  
              doc.rect(20, yPosition, 170, 10, 'F');
 
               doc.setTextColor(0, 0, 0);
  
              doc.text('Product', 25, yPosition + 7);
 
               doc.text('Qty', 120, yPosition + 7);
 
               doc.text('Price', 150, yPosition + 7);
 
               doc.text('Total', 180, yPosition + 7);
                
                
// Order items
               
           yPosition += 15;
  
              currentOrder.items.forEach(item => {
  
                  if (yPosition > 250) {
  
                      doc.addPage();
 
                       yPosition = 20;
  
                  }
    
                
                    doc.text(item.name, 25, yPosition + 7);
  
                  doc.text(item.quantity.toString(), 120, yPosition + 7);
     
               doc.text(`₹${item.price}`, 150, yPosition + 7);
  
                  doc.text(`₹${item.price * item.quantity}`, 180, yPosition + 7);
  
                  yPosition += 10;
        
        });
                
               
 // Order summary
   
             yPosition += 20;
  
              doc.text(`Subtotal: ₹${currentOrder.subtotal}`, 150, yPosition);
 
               doc.text(`Shipping: ₹${currentOrder.shipping}`, 150, yPosition + 8);
  
              doc.setFontSize(14);
 
               doc.text(`Total: ₹${currentOrder.total}`, 150, yPosition + 20);
   
  // Footer
   
             doc.setFontSize(10);
 
               doc.setTextColor(100, 100, 100);
  
              doc.text('Thank you for your purchase!', 105, 280, { align: 'center' });
  
              doc.text('Biaana - Pure Millet Products', 105, 285, { align: 'center' });
  
              doc.text('Contact: biaana.inc | Phone: +91 8010644719', 105, 290, { align: 'center' });
                
              
  // Save the PDF
  
              doc.save(`invoice_${currentOrder.id}.pdf`);
 
               showNotification('Invoice downloaded successfully!');
 
               
            } catch (error) {
 
               console.error('Error generating invoice:', error);
 
               alert('Error generating invoice. Please try again.');
                
              
  // Fallback: Create a simple text invoice
 
               createTextInvoice();

            }
 
       }

       
 // Fallback text invoice function
  
      function createTextInvoice() {
   
         if (!currentOrder) return;
 
           
            let invoiceText = `BILLING INVOICE\n`;
 
           invoiceText += `================\n\n`;
 
           invoiceText += `Biaana - Pure Millet Products\n`;
  
          invoiceText += `Invoice #: ${currentOrder.id}\n`;
  
          invoiceText += `Date: ${currentOrder.date}\n\n`;
   
         invoiceText += `BILL TO:\n`;
   
         invoiceText += `${currentOrder.customerName}\n`;
 
           invoiceText += `${currentOrder.customerEmail}\n`;
 
           invoiceText += `${currentOrder.customerPhone}\n`;
  
          
            if (currentOrder.customerAddress) {
 
               invoiceText += `${currentOrder.customerAddress}\n`;
  
              invoiceText += `${currentOrder.customerCity}, ${currentOrder.customerState} - ${currentOrder.customerPincode}\n`;
 
           }
   
         
            invoiceText += `\nORDER ITEMS:\n`;
 
           invoiceText += `----------------------------------------\n`;
   
         
            currentOrder.items.forEach(item => {
    
            invoiceText += `${item.name} (${item.quantity}x) - ₹${item.price * item.quantity}\n`;
  
          });

            
            invoiceText += `----------------------------------------\n`;
    
        invoiceText += `Subtotal: ₹${currentOrder.subtotal}\n`;
 
           invoiceText += `Shipping: ₹${currentOrder.shipping}\n`;

            invoiceText += `Total: ₹${currentOrder.total}\n\n`;
 
           invoiceText += `Payment Method: ${currentOrder.paymentMethod.toUpperCase()}\n`;
  
          invoiceText += `\nThank you for your purchase!\n`;
  
          invoiceText += `Biaana - Pure Millet Products`;
            
            
// Create and download text file
           
       const blob = new Blob([invoiceText], { type: 'text/plain' });
 
           const url = window.URL.createObjectURL(blob);
 
           const a = document.createElement('a');
 
           a.href = url;
 
           a.download = `invoice_${currentOrder.id}.txt`;

            document.body.appendChild(a);
 
           a.click();
  
          document.body.removeChild(a);
  
          window.URL.revokeObjectURL(url);
   
         
            showNotification('Text invoice downloaded!');

        }

        
// Orders functions
 
       function renderOrders() {
  
          ordersContainer.innerHTML = '';
 
           
            const customerOrders = orders.filter(order => order.customerId === currentCustomer.id);
 
           
            if (customerOrders.length === 0) {
  
              ordersContainer.innerHTML = '<p style="text-align: center; padding: 2rem;">No orders found</p>';
  
              return;
  
          }
   
         
            customerOrders.sort((a, b) => b.id - a.id).forEach(order => {
   
             const orderCard = document.createElement('div');
  
              orderCard.className = 'order-card';
 
               orderCard.innerHTML = `
  
                  <div class="order-header">
     
                   <div>
 
                           <h4>Order #${order.id}</h4>
    
                        <p>Date: ${order.date}</p>
  
                      </div>
      
                  <div>
 
                           <span class="order-status">${order.status}</span>
  
                          <p class="order-total">₹${order.total}</p>
 
                       </div>

                    </div>
 
                   <div class="order-items">
 
                       ${order.items.map(item => `
      
                      <div class="order-item">
  
                              <span>${item.name} (${item.quantity}x)</span>
   
                             <span>₹${item.price * item.quantity}</span>
       
                     </div>
    
                    `).join('')}
  
                  </div>
   
                 <div class="order-footer">
 
                       <p><strong>Payment Method:</strong> ${order.paymentMethod.toUpperCase()}</p>
 
                   </div>
    
            `;
   
             ordersContainer.appendChild(orderCard);
   
         });
   
     }

        
// Admin functions

        function openAdminLogin() {
  
          adminLoginModal.style.display = 'flex';
 
       }

  
      function handleAdminLogin(e) {
 
           e.preventDefault();
  
          const username = document.getElementById('adminUsername').value;
 
           const password = document.getElementById('adminPassword').value;
 
           
            if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
 
               adminLoginModal.style.display = 'none';
  
              showAdminPanel();
  
          } else {
  
              alert('Invalid admin credentials');
 
           }
 
       }

  
      function showAdminPanel() {
  
          hideAllSections();
  
          adminPanel.style.display = 'block';
  
          renderAdminProducts();
 
       }

 
       function logoutAdmin() {
  
          adminPanel.style.display = 'none';
 
           showHome();

        }

 
       function renderAdminProducts() {
  
          adminProductsContainer.innerHTML = '';
  
          products.forEach(product => {
      
          const productCard = createProductCard(product, true);
 
               adminProductsContainer.appendChild(productCard);
  
          });
 
       }

  
      function openAddProductModal() {
  
          document.getElementById('editModalTitle').textContent = 'Add New Product';
 
           document.getElementById('editProductId').value = '';

            document.getElementById('editProductName').value = '';
  
          document.getElementById('editProductDescription').value = '';
 
           document.getElementById('editProductPrice').value = '';
  
          document.getElementById('editProductWeight').value = '';
  
          document.getElementById('editProductImageFile').value = '';
   
         document.getElementById('editProductDiscount').value = '0';
   
         document.getElementById('editProductCategory').value = 'Millet Grains';
  
          productPreviewImg.style.display = 'none';
    
        
            editProductModal.style.display = 'flex';
 
       }

   
     function openEditProductModal(productId) {
  
          const product = products.find(p => p.id === productId);
   
         if (!product) return;
   
         
            document.getElementById('editModalTitle').textContent = 'Edit Product';
   
         document.getElementById('editProductId').value = product.id;
  
          document.getElementById('editProductName').value = product.name;

            document.getElementById('editProductDescription').value = product.description;

            document.getElementById('editProductPrice').value = product.price;
  
          document.getElementById('editProductWeight').value = product.weight;
  
          document.getElementById('editProductDiscount').value = product.discount || 0;
  
          document.getElementById('editProductCategory').value = product.category;
            
           
 // Clear file input but keep existing image visible

            document.getElementById('editProductImageFile').value = '';
 
           productPreviewImg.style.display = 'none';
 
           
            editProductModal.style.display = 'flex';

        }

 
       function handleProductSave(e) {
 
           e.preventDefault();
 
           
            const productId = document.getElementById('editProductId').value;
 
           const imageInput = document.getElementById('editProductImageFile');
      
      
            let imageUrl = '';
   
 // Handle image upload
  
          if (imageInput && imageInput.files[0]) {
 
               const file = imageInput.files[0];
  
              const reader = new FileReader();
   
             
                reader.onload = function(e) {
   
                 imageUrl = e.target.result;
  
                  saveProductData(imageUrl);
   
             };
  
              reader.readAsDataURL(file);
 
           } else {
               
 // Keep existing image if no new file selected
  
              const existingProduct = products.find(p => p.id === parseInt(productId));
 
               imageUrl = existingProduct ? existingProduct.image : '';

                saveProductData(imageUrl);
  
          }
    
        
            function saveProductData(imageUrl) {
  
              const productData = {
   
                 name: document.getElementById('editProductName').value,
 
                   description: document.getElementById('editProductDescription').value,
  
                  price: parseFloat(document.getElementById('editProductPrice').value),
  
                  weight: document.getElementById('editProductWeight').value,
    
                image: imageUrl,
 
                   discount: parseInt(document.getElementById('editProductDiscount').value) || 0,
 
                   category: document.getElementById('editProductCategory').value
 
               };
  
              
                if (productId) {
                   
 // Update existing product
 
                   const index = products.findIndex(p => p.id === parseInt(productId));
 
                   if (index !== -1) {

                        products[index] = { ...products[index], ...productData };
 
                   }

                } else {
                    
// Add new product
  
                  const newProduct = {
  
                      id: Date.now(),
 
                       ...productData
 
                   };
 
                   products.push(newProduct);

                }
 
               
                editProductModal.style.display = 'none';
 
               renderAdminProducts();
 
               renderProducts(); // Update customer view as well
 
               showNotification(productId ? 'Product updated!' : 'Product added!');
 
           }
  
      }

  
      function showAdminOrders() {
   
         adminProductsSection.style.display = 'none';
  
          adminOrdersSection.style.display = 'block';
  
          adminCustomersSection.style.display = 'none';
  
          adminAnalyticsSection.style.display = 'none';
  
          
            renderAdminOrders();
    
    }

   
     function showAdminCustomers() {
  
          adminProductsSection.style.display = 'none';
  
          adminOrdersSection.style.display = 'none';
  
          adminCustomersSection.style.display = 'block';
  
          adminAnalyticsSection.style.display = 'none';

            
            renderAdminCustomers();
 
       }

     
   function showAdminAnalytics() {

            adminProductsSection.style.display = 'none';
 
           adminOrdersSection.style.display = 'none';
  
          adminCustomersSection.style.display = 'none';
 
           adminAnalyticsSection.style.display = 'block';
  
          
            renderAdminAnalytics();
  
      }

  
      function renderAdminOrders() {
 
           adminOrdersContainer.innerHTML = '';
 
           
            if (orders.length === 0) {
   
             adminOrdersContainer.innerHTML = '<p style="text-align: center; padding: 2rem;">No orders found</p>';
 
               return;
   
         }
            
          
  // Sort by newest first
    
        orders.sort((a, b) => b.id - a.id);
   
         
            orders.forEach(order => {
    
            const orderCard = document.createElement('div');
 
               const isNewOrder = isNewOrderCheck(order.id);
    
            
                orderCard.className = `order-card ${isNewOrder ? 'order-item-new' : ''}`;
 
               orderCard.innerHTML = `
     
               <div class="order-header">
  
                      <div>
   
                         <h4>Order #${order.id} ${isNewOrder ? '🆕' : ''}</h4>
    
                        <p><strong>Customer:</strong> ${order.customerName}</p>
  
                          <p><strong>Phone:</strong> ${order.customerPhone || 'Not provided'}</p>
  
                          <p><strong>Email:</strong> ${order.customerEmail || 'Not provided'}</p>
  
                          <p><strong>Address:</strong> ${order.customerAddress || 'Not provided'}</p>
 
                           <p><strong>City:</strong> ${order.customerCity || 'Not provided'}, ${order.customerState || 'Not provided'} - ${order.customerPincode || 'Not provided'}</p>
 
                           <p><strong>Date:</strong> ${order.date} ${new Date(order.timestamp).toLocaleTimeString()}</p>
 
                       </div>
 
                       <div>
    
                        <span class="order-status ${isNewOrder ? 'order-status-new' : ''}">${order.status}</span>
 
                           <p class="order-total">₹${order.total}</p>
   
                         <div class="order-actions">
  
                              <button class="action-btn mark-processed" data-order="${order.id}">Mark Processed</button>
 
                           </div>
  
                      </div>
 
                   </div>
 
                   <div class="order-items">

                        <h5>Order Items:</h5>
 
                       ${order.items.map(item => `
   
                         <div class="order-item">
    
                            <span>${item.name} (${item.quantity}x ${item.weight})</span>
    
                            <span>₹${item.price * item.quantity}</span>
   
                         </div>
  
                      `).join('')}
 
                   </div>
  
                  <div class="order-footer">
 
                       <p><strong>Payment:</strong> ${order.paymentMethod.toUpperCase()} 
 
                       ${order.transactionId ? `(ID: ${order.transactionId})` : ''}</p>
   
                 </div>
 
               `;
     
           adminOrdersContainer.appendChild(orderCard);
    
        });
            
           
 // Add event listeners for action buttons
 
           addOrderActionListeners();
 
       }

 
       function isNewOrderCheck(orderId) {
   
         const processedOrders = JSON.parse(localStorage.getItem('processedOrders')) || [];
 
           return !processedOrders.includes(orderId);
 
       }

  
      function addOrderActionListeners() {
 
           // Mark as processed
    
        document.querySelectorAll('.mark-processed').forEach(btn => {
  
              btn.addEventListener('click', function() {
    
                const orderId = this.dataset.order;
   
                 markOrderAsProcessed(orderId);
  
              });
 
           });

        }

 
       function markOrderAsProcessed(orderId) {
 
           let processedOrders = JSON.parse(localStorage.getItem('processedOrders')) || [];
 
           if (!processedOrders.includes(parseInt(orderId))) {
 
               processedOrders.push(parseInt(orderId));
 
               localStorage.setItem('processedOrders', JSON.stringify(processedOrders));
                
                
// Update orders list
               
             renderAdminOrders();
 
               showNotification('Order marked as processed!');
                
                
// Update notification badge
 
               orderNotifications.updateOrderCount();
 
           }

        }

       
 // Customer Management Functions
 
       function renderAdminCustomers() {
 
           const analytics = customerManager.getCustomerAnalytics();
            
           
 // Update stats
  
          totalCustomersCount.textContent = analytics.totalCustomers;
 
           activeCustomersCount.textContent = analytics.activeCustomers;
  
          totalOrdersCount.textContent = analytics.totalOrders;
   
         
            const customers = customerManager.getAllCustomers();
 
           
            if (customers.length === 0) {
 
               customersContainer.innerHTML = '<p style="text-align: center; padding: 2rem;">No customers found</p>';

                return;
 
           }
   
         
            let html = `
   
             <div class="customers-header">
   
                 <h4>All Customers (${customers.length})</h4>
 
                   <button class="export-btn" id="exportCustomersBtn">
 
                       <i class="fas fa-download"></i> Export to Excel
    
                </button>
 
               </div>
  
              <div class="customers-table">
   
                 <table>
  
                      <thead>
   
                         <tr>
   
                             <th>Customer Name</th>
   
                             <th>Email</th>
 
                               <th>Phone</th>
  
                              <th>Orders</th>
 
                               <th>Total Spent</th>
 
                               <th>Last Order</th>
 
                               <th>Actions</th>
  
                          </tr>
 
                       </thead>
 
                       <tbody>

            `;
  
          
            customers.sort((a, b) => b.orderCount - a.orderCount).forEach(customer => {
 
               html += `
  
                  <tr>
  
                      <td>
   
                         <div class="customer-info">
    
                            <strong>${customer.name}</strong>
  
                              <small>Joined: ${new Date(customer.id).toLocaleDateString()}</small>
 
                           </div>

                        </td>
  
                      <td>${customer.email}</td>
  
                      <td>${customer.phone}</td>
  
                      <td>
  
                          <span class="order-count ${customer.orderCount > 0 ? 'has-orders' : 'no-orders'}">

                                ${customer.orderCount}
  
                          </span>
 
                       </td>
   
                     <td>
     
                       <span class="total-spent ${customer.totalSpent > 0 ? 'has-spent' : 'no-spent'}">
 
                               ₹${customer.totalSpent}
  
                          </span>
 
                       </td>
 
                       <td>${customer.lastOrder}</td>
 
                       <td>
 
                           <button class="action-btn view-customer" data-customer="${customer.id}">
 
                               <i class="fas fa-eye"></i> View
   
                         </button>
  
                          <button class="action-btn delete-customer" data-customer="${customer.id}">
  
                              <i class="fas fa-trash"></i> Delete

                            </button>
 
                       </td>
   
                 </tr>
 
               `;
  
          });
  
          
            html += `
   
                     </tbody>
  
                  </table>
 
               </div>
    
        `;
    
        
            customersContainer.innerHTML = html;
            
            
// Add event listeners

            document.getElementById('exportCustomersBtn').addEventListener('click', exportCustomersData);

            document.querySelectorAll('.view-customer').forEach(btn => {
 
               btn.addEventListener('click', function() {
 
                   viewCustomerDetails(this.dataset.customer);

                });
 
           });

            document.querySelectorAll('.delete-customer').forEach(btn => {
  
              btn.addEventListener('click', function() {
    
                deleteCustomer(this.dataset.customer);
 
               });
 
           });

        }

 
       function viewCustomerDetails(customerId) {
 
           const customer = customerManager.getAllCustomers().find(c => c.id == customerId);
  
          const customerOrders = customerManager.orders.filter(order => order.customerId == customerId);
 
           
            let ordersHtml = '';
 
           if (customerOrders.length > 0) {
   
             customerOrders.sort((a, b) => b.id - a.id).forEach(order => {
 
                   ordersHtml += `
 
                       <div class="order-detail">
   
                         <strong>Order #${order.id}</strong> - ₹${order.total} - ${order.date}
 
                           <div class="order-items">
   
                             ${order.items.map(item => `
  
                                  <div>${item.quantity}x ${item.name} - ₹${item.price * item.quantity}</div>
 
                               `).join('')}
  
                          </div>
 
                       </div>
 
                   `;
    
            });
  
          } else {
     
           ordersHtml = '<p>No orders placed by this customer.</p>';
    
        }
            

            const detailsHtml = `
  
              <h3>Customer Details: ${customer.name}</h3>
   
             <div class="customer-detail-section">
           
         <h4>Personal Information</h4>
     
               <p><strong>Name:</strong> ${customer.name}</p>
   
                 <p><strong>Email:</strong> ${customer.email}</p>
    
                <p><strong>Phone:</strong> ${customer.phone}</p>
  
                  <p><strong>Address:</strong> ${customer.address || 'Not provided'}</p>
    
                <p><strong>City:</strong> ${customer.city || 'Not provided'}</p>

                    <p><strong>State:</strong> ${customer.state || 'Not provided'}</p>
   
                 <p><strong>Registration Date:</strong> ${new Date(customer.id).toLocaleDateString()}</p>
  
              </div>

                <div class="customer-detail-section">
     
               <h4>Order Statistics</h4>
     
               <p><strong>Total Orders:</strong> ${customer.orderCount}</p>
   
                 <p><strong>Total Amount Spent:</strong> ₹${customer.totalSpent}</p>
 
                   <p><strong>First Order:</strong> ${customer.firstOrder}</p>
      
              <p><strong>Last Order:</strong> ${customer.lastOrder}</p>
 
               </div>
   
             <div class="customer-detail-section">
   
                 <h4>Order History</h4>
     
               ${ordersHtml}
      
          </div>
   
         `;
    
        
            
// Create modal for customer details

            showCustomModal('Customer Details', detailsHtml);

        }

       
         function deleteCustomer(customerId) {
   
         if (confirm('Are you sure you want to delete this customer? This action cannot be undone.')) {
    
            let customers = JSON.parse(localStorage.getItem('customers')) || [];

                customers = customers.filter(c => c.id != customerId);

                localStorage.setItem('customers', JSON.stringify(customers));
                
               
 // Also remove their orders
            
    let orders = JSON.parse(localStorage.getItem('orders')) || [];
   
             orders = orders.filter(order => order.customerId != customerId);
 
               localStorage.setItem('orders', JSON.stringify(orders));
      
          
                showNotification('Customer deleted successfully!');
      
          renderAdminCustomers();
    
        }
     
   }

    
    function exportCustomersData() {
       
     const csv = customerManager.exportToCSV();
  
          const blob = new Blob([csv], { type: 'text/csv' });
  
          const url = window.URL.createObjectURL(blob);
   
         const a = document.createElement('a');
    
        a.href = url;
       
     a.download = `customers_data_${new Date().toISOString().split('T')[0]}.csv`;
      
      document.body.appendChild(a);
    
        a.click();
    
        document.body.removeChild(a);
  
          window.URL.revokeObjectURL(url);
     
       
            showNotification('Customer data exported successfully!');

        }

     
   function showCustomModal(title, content) {
 
           const modal = document.createElement('div');
  
          modal.className = 'modal';
    
        modal.style.display = 'flex';
   
         modal.innerHTML = `
       
         <div class="modal-content" style="max-width: 800px; max-height: 80vh; overflow-y: auto;">
       
             <div class="modal-header">
           
             <h2 class="modal-title">${title}</h2>
     
                   <button class="close-modal">&times;</button>
   
                 </div>
     
               <div class="modal-body">
       
                 ${content}
            
        </div>
   
                 <div class="modal-footer">
   
                     <button class="cancel-btn" onclick="this.closest('.modal').remove()">Close</button>
     
               </div>
   
             </div>
    
        `;
       
     
            document.body.appendChild(modal);
            
          
  // Close modal functionality
        
    modal.querySelector('.close-modal').addEventListener('click', () => modal.remove());
  
          modal.addEventListener('click', (e) => {
            
    if (e.target === modal) modal.remove();
      
      });
     
   }

        
// Monthly Analytics Functions
  
      function filterAnalyticsByMonth(month) {
 
           currentMonthFilter = month;
            
           
 // Update active month button
  
          monthButtons.forEach(btn => {
  
              if (btn.dataset.month === month) {
 
                   btn.classList.add('active');
 
               } else {
      
              btn.classList.remove('active');
 
               }
 
           });
  
          
            renderAdminAnalytics();
   
     }

       
 function getMonthlyAnalytics() {
   
         const currentYear = new Date().getFullYear();
    
        let filteredOrders = orders;
    
        
            if (currentMonthFilter !== "all") {
     
           const month = parseInt(currentMonthFilter);
   
             filteredOrders = orders.filter(order => {
  
                  const orderDate = new Date(order.timestamp);
  
                  return orderDate.getMonth() === month && orderDate.getFullYear() === currentYear;
  
              });
   
         }
       
     
            const monthlyCustomers = customers.filter(customer => {
  
              if (currentMonthFilter === "all") return true;
  
              
                const customerDate = new Date(customer.id);
 
               return customerDate.getMonth() === parseInt(currentMonthFilter) && 
  
                     customerDate.getFullYear() === currentYear;
   
         });
   
         
            return {

                totalOrders: filteredOrders.length,
 
               totalRevenue: filteredOrders.reduce((sum, order) => sum + order.total, 0),

                totalCustomers: monthlyCustomers.length,
 
               totalProducts: products.length,
  
              recentOrders: filteredOrders.slice(0, 5).sort((a, b) => b.id - a.id)
 
           };

        }

  
      function renderAdminAnalytics() {
 
           const analytics = getMonthlyAnalytics();
            
           
 // Update analytics numbers
  
          totalOrdersElement.textContent = analytics.totalOrders;
 
           totalRevenueElement.textContent = `₹${analytics.totalRevenue}`;
 
           totalCustomersElement.textContent = analytics.totalCustomers;
 
           totalProductsElement.textContent = analytics.totalProducts;
            
           
 // Show recent orders
 
           recentOrdersContainer.innerHTML = '';

            
            if (analytics.recentOrders.length === 0) {
  
              recentOrdersContainer.innerHTML = '<p style="text-align: center; padding: 1rem;">No recent orders</p>';
 
               return;

            }
 
           
            analytics.recentOrders.forEach(order => {
   
             const orderElement = document.createElement('div');
   
             orderElement.className = 'order-item';
  
              orderElement.innerHTML = `
   
                 <span>Order #${order.id} - ${order.customerName}</span>
    
                <span>₹${order.total}</span>
   
             `;
     
           recentOrdersContainer.appendChild(orderElement);
 
           });
  
      }

       
 // Utility functions
 
       function closeModals() {
  
          document.querySelectorAll('.modal').forEach(modal => {

                modal.style.display = 'none';
 
           });
 
           editProductModal.style.display = 'none';

        }

  
      function showNotification(message) {
           
 // Create notification element
 
           const notification = document.createElement('div');
  
          notification.style.cssText = `
   
             position: fixed;
     
           top: 20px;
      
          right: 20px;
      
          background: #2c5530;
   
             color: white;
    
            padding: 1rem 2rem;
 
               border-radius: 5px;
 
               z-index: 10000;
    
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  
          `;
         
   notification.textContent = message;
 
           
            document.body.appendChild(notification);
            
           
 // Remove after 3 seconds
 
           setTimeout(() => {
   
             notification.remove();
 
           }, 3000);

        }

    
    function handleForgotPassword(e) {
 
           e.preventDefault();
  
          const email = document.getElementById('forgotEmail').value;

            
            if (customers.find(c => c.email === email)) {
   
             alert('Password reset instructions sent to your email');
   
             forgotPasswordModal.style.display = 'none';
    
        } else {
 
               alert('Email not found');
  
          }

        }

       
 // Initialize the application
       
 showHome();
 
   </script>

</body>


</html>
